<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>数据结构与算法</title>
    <link href="/2023/11/19/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"/>
    <url>/2023/11/19/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h2 id="图"><a href="#图" class="headerlink" title="图"></a>图</h2><p>Graph类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.ArrayList;<br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Graph</span> &#123;<br>    <span class="hljs-keyword">protected</span> List&lt;String&gt; vertex;<span class="hljs-comment">//顶点</span><br>    <span class="hljs-keyword">protected</span>  <span class="hljs-type">int</span>[][] edge;<span class="hljs-comment">//边</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-type">boolean</span>[] isVisited;<span class="hljs-comment">//是否被访问</span><br>    <span class="hljs-keyword">protected</span>  <span class="hljs-type">int</span> numOfEdges;<br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Graph</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span>&#123;<br>        <span class="hljs-built_in">this</span>.vertex=<span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;(n);<br>        <span class="hljs-built_in">this</span>.edge=<span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[n][n];<br>        <span class="hljs-built_in">this</span>.isVisited=<span class="hljs-keyword">new</span> <span class="hljs-title class_">boolean</span>[n];<br>    &#125;<br>    <span class="hljs-comment">//获取结点个数</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getNumOfVertex</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">return</span> vertex.size();<br>    &#125;<br>    <span class="hljs-comment">//打印邻接矩阵</span><br>    <span class="hljs-keyword">protected</span>  <span class="hljs-keyword">void</span> <span class="hljs-title function_">printGraph</span><span class="hljs-params">()</span>&#123;<br>        System.out.print(<span class="hljs-string">&quot; &quot;</span>);<br>        <span class="hljs-keyword">for</span>(String s:vertex) System.out.print(<span class="hljs-string">&quot;  &quot;</span>+s);<br>        System.out.println();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> r=<span class="hljs-number">0</span>;r&lt;vertex.size();r++)&#123;<br>            System.out.print(vertex.get(r)+<span class="hljs-string">&quot; &quot;</span>);<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;vertex.size();i++)&#123;<br>                System.out.print(String.format(<span class="hljs-string">&quot;%2d&quot;</span>,edge[r][i])+<span class="hljs-string">&quot; &quot;</span>);<br>            &#125;<br>            System.out.println();<br>        &#125;<br>    &#125;<br>    <span class="hljs-comment">//获取边的数目</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getNumOfEdge</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">return</span> numOfEdges;<br>    &#125;<br>    <span class="hljs-comment">//获取某条边的权值</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getWeightOfEdges</span><span class="hljs-params">(<span class="hljs-type">int</span> v1,<span class="hljs-type">int</span> v2)</span>&#123;<br>        <span class="hljs-keyword">return</span> edge[v1][v2];<br>    &#125;<br>    <span class="hljs-comment">//添加结点</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addVertex</span><span class="hljs-params">(String v)</span>&#123;<br>        vertex.add(v);<br>    &#125;<br>    <span class="hljs-comment">//添加边</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addEdge</span><span class="hljs-params">(<span class="hljs-type">int</span> v1,<span class="hljs-type">int</span> v2,<span class="hljs-type">int</span> weigeht)</span>&#123;<br>        edge[v1][v2]=weigeht;<br>        edge[v2][v1]=weigeht;<br>        numOfEdges++;<br>    &#125;<br>    <span class="hljs-comment">//获取顶点索引对应的值</span><br>    <span class="hljs-keyword">protected</span> String <span class="hljs-title function_">getValueByIndex</span><span class="hljs-params">(<span class="hljs-type">int</span> i)</span>&#123;<br>        <span class="hljs-keyword">return</span> vertex.get(i);<br>    &#125;<br>    <span class="hljs-comment">//实例矩阵</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Graph <span class="hljs-title function_">example</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-type">Graph</span> <span class="hljs-variable">graph</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Graph</span>(<span class="hljs-number">7</span>);<br>        graph.addVertex(<span class="hljs-string">&quot;A&quot;</span>);<br>        graph.addVertex(<span class="hljs-string">&quot;B&quot;</span>);<br>        graph.addVertex(<span class="hljs-string">&quot;C&quot;</span>);<br>        graph.addVertex(<span class="hljs-string">&quot;D&quot;</span>);<br>        graph.addVertex(<span class="hljs-string">&quot;E&quot;</span>);<br>        graph.addVertex(<span class="hljs-string">&quot;F&quot;</span>);<br>        graph.addVertex(<span class="hljs-string">&quot;G&quot;</span>);<br>        graph.addEdge(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>);<br>        graph.addEdge(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">7</span>);<br>        graph.addEdge(<span class="hljs-number">0</span>, <span class="hljs-number">6</span>, <span class="hljs-number">2</span>);<br>        graph.addEdge(<span class="hljs-number">1</span>, <span class="hljs-number">6</span>, <span class="hljs-number">3</span>);<br>        graph.addEdge(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">9</span>);<br>        graph.addEdge(<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">8</span>);<br>        graph.addEdge(<span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">4</span>);<br>        graph.addEdge(<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>);<br>        graph.addEdge(<span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">4</span>);<br>        graph.addEdge(<span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">6</span>);<br>        <span class="hljs-keyword">return</span> graph;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>示例图的邻接矩阵：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java">   A  B  C  D  E  F  G<br>A  <span class="hljs-number">0</span>  <span class="hljs-number">5</span>  <span class="hljs-number">7</span>  <span class="hljs-number">0</span>  <span class="hljs-number">0</span>  <span class="hljs-number">0</span>  <span class="hljs-number">2</span> <br>B  <span class="hljs-number">5</span>  <span class="hljs-number">0</span>  <span class="hljs-number">0</span>  <span class="hljs-number">9</span>  <span class="hljs-number">0</span>  <span class="hljs-number">0</span>  <span class="hljs-number">3</span> <br>C  <span class="hljs-number">7</span>  <span class="hljs-number">0</span>  <span class="hljs-number">0</span>  <span class="hljs-number">0</span>  <span class="hljs-number">8</span>  <span class="hljs-number">0</span>  <span class="hljs-number">0</span> <br>D  <span class="hljs-number">0</span>  <span class="hljs-number">9</span>  <span class="hljs-number">0</span>  <span class="hljs-number">0</span>  <span class="hljs-number">0</span>  <span class="hljs-number">4</span>  <span class="hljs-number">0</span> <br>E  <span class="hljs-number">0</span>  <span class="hljs-number">0</span>  <span class="hljs-number">8</span>  <span class="hljs-number">0</span>  <span class="hljs-number">0</span>  <span class="hljs-number">5</span>  <span class="hljs-number">4</span> <br>F  <span class="hljs-number">0</span>  <span class="hljs-number">0</span>  <span class="hljs-number">0</span>  <span class="hljs-number">4</span>  <span class="hljs-number">5</span>  <span class="hljs-number">0</span>  <span class="hljs-number">6</span> <br>G  <span class="hljs-number">2</span>  <span class="hljs-number">3</span>  <span class="hljs-number">0</span>  <span class="hljs-number">0</span>  <span class="hljs-number">4</span>  <span class="hljs-number">6</span>  <span class="hljs-number">0</span> <br></code></pre></td></tr></table></figure><h3 id="求最小生成树"><a href="#求最小生成树" class="headerlink" title="求最小生成树"></a>求最小生成树</h3><p>最小生成树：在连通网的所有生成树中，所有边的代价和最小的生成树，称为最小生成树。</p><h4 id="Kruskal算法（加边法）"><a href="#Kruskal算法（加边法）" class="headerlink" title="Kruskal算法（加边法）"></a>Kruskal算法（加边法）</h4><p>初始最小生成树的边数为0，每迭代一次就选择一条满足条件的最小代价边，加入到最小生成树的边集合里面。<br>算法思想：</p><ol><li>把图中所有边按代价从小到大排列</li><li>把图中n个顶点看成独立的n棵树组成的森林</li><li>按权值从小到大选择边，所选的边连接的两个顶点属于两科不同的树（即不成环），则成为最小生成树的一条边，并将这两棵树合并作为一棵树</li><li>重复（3）直到所有的顶点都在一棵树内，或者有n-1条边为止</li></ol><ul><li>代码基本步骤：对边进行排序、把最小的边加入生成树、判断是否产生回路</li><li>代码的重点在于在加边时如何判断是否会成环，在上面的代码中，通过end数组来记录每个顶点的终点，每次加边都更新终点（由于在记录边的时候确保了v1的索引低于v2的索引，所以其实end是从孩子指向双亲的）<br>Kruskal算法代码<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.ArrayList;<br><span class="hljs-keyword">import</span> java.util.Arrays;<br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Kruskal</span> &#123;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getEnd</span><span class="hljs-params">(<span class="hljs-type">int</span>[] ends, <span class="hljs-type">int</span> index)</span> &#123;<br>        <span class="hljs-keyword">while</span> (ends[index] != <span class="hljs-number">0</span>) index = ends[index];<br>        <span class="hljs-keyword">return</span> index;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">kruskal</span><span class="hljs-params">(Graph graph)</span> &#123;<br>        <span class="hljs-type">int</span>[] ends = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[graph.getNumOfVertex()];<span class="hljs-comment">//存放顶点的终点信息</span><br>        List&lt;String&gt; result = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<span class="hljs-comment">//存放每次连接的路径</span><br>        <span class="hljs-type">int</span>[][] edgeData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[graph.getNumOfEdge()][<span class="hljs-number">3</span>];<span class="hljs-comment">//将顶点存放在数组中，然后根据权值大小排序</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>, count = <span class="hljs-number">0</span>; i &lt; graph.getNumOfVertex() &amp;&amp; count &lt; graph.getNumOfEdge(); i++) &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> i + <span class="hljs-number">1</span>; j &lt; graph.getNumOfVertex(); j++) &#123;<br>                <span class="hljs-keyword">if</span> (graph.edge[i][j] != <span class="hljs-number">0</span>) &#123;<br>                    edgeData[count][<span class="hljs-number">0</span>] = graph.edge[i][j];<br>                    edgeData[count][<span class="hljs-number">1</span>] = i;<br>                    edgeData[count][<span class="hljs-number">2</span>] = j;<br>                    count++;<br>                &#125;<br>            &#125;<br>        &#125;<br>        Arrays.sort(edgeData, (e1, e2) -&gt; e1[<span class="hljs-number">0</span>] - e2[<span class="hljs-number">0</span>]);<span class="hljs-comment">//按第一列元素升序排列</span><br>        <span class="hljs-comment">//检查是否有环</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; edgeData.length; i++) &#123;<br>            <span class="hljs-type">int</span> <span class="hljs-variable">v1</span> <span class="hljs-operator">=</span> getEnd(ends, edgeData[i][<span class="hljs-number">1</span>]);<br>            <span class="hljs-type">int</span> <span class="hljs-variable">v2</span> <span class="hljs-operator">=</span> getEnd(ends, edgeData[i][<span class="hljs-number">2</span>]);<br>            <span class="hljs-keyword">if</span> (v1 != v2) &#123;<br>                ends[v1] = v2;<br>                result.add(<span class="hljs-string">&quot;&lt;&quot;</span> + graph.getValueByIndex(edgeData[i][<span class="hljs-number">1</span>]) + <span class="hljs-string">&quot;,&quot;</span> + graph.getValueByIndex(edgeData[i][<span class="hljs-number">2</span>]) + <span class="hljs-string">&quot;&gt;&quot;</span>);<br>            &#125;<br><br>        &#125;<br>        <span class="hljs-comment">//输出结果</span><br>        System.out.println(<span class="hljs-string">&quot;各顶点间的连接线：&quot;</span>);<br>        <span class="hljs-keyword">for</span> (String e : result) System.out.println(e);<br>    &#125;<br><br><br>&#125;<br><br><br></code></pre></td></tr></table></figure>运行结果：<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java">各顶点间的连接线：<br>&lt;A,G&gt;<br>&lt;B,G&gt;<br>&lt;D,F&gt;<br>&lt;E,G&gt;<br>&lt;E,F&gt;<br>&lt;A,C&gt;<br></code></pre></td></tr></table></figure></li></ul><h4 id="Prim算法"><a href="#Prim算法" class="headerlink" title="Prim算法"></a>Prim算法</h4><p>就是在包含n个顶点的连通图中，找出只有（n-1）条边，包含所有<br>算法思想：<br>注：G&#x3D;(V,E)是连通图，T&#x3D;(U,D)是最小生成树</p><ol><li>从集合V中取出顶点D放到集合U中，标记顶点的visited[u]&#x3D;1</li><li>若集合U中顶点与集合V中的顶点vj之间存在边，则寻找这些边中权值最小且不构成回路的，添加到U中，标记visited[vj]&#x3D;1</li><li>重复步骤1，直到U与V相等</li></ol><ul><li>代码的关键在于每次从周围吸收一条与之邻接且权值最小的边，以及相连的顶点，直到吸收完所有的顶点。<br>Prim算法代码<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.ArrayList;<br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Prim</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">prim</span><span class="hljs-params">(Graph graph,<span class="hljs-type">int</span> v)</span>&#123;<br>        List&lt;String&gt; result=<span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<span class="hljs-comment">//存放没每次添加的路径</span><br>        List&lt;Integer&gt; temp=<span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<span class="hljs-comment">//存放每次遍历到的顶点的索引</span><br>        temp.add(v);<span class="hljs-comment">//先添加第一个点</span><br>        graph.isVisited[v]=<span class="hljs-literal">true</span>;<br>        <span class="hljs-type">int</span> minRoute=Integer.MAX_VALUE;<span class="hljs-comment">//最短边</span><br>        <span class="hljs-type">int</span> nextVertex=<span class="hljs-number">0</span>;<span class="hljs-comment">//下个顶点的索引</span><br>        <span class="hljs-type">int</span> curVertex=<span class="hljs-number">0</span>;<span class="hljs-comment">//当前顶点的索引</span><br>        <span class="hljs-keyword">while</span> (temp.size()&lt;graph.getNumOfVertex())&#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=<span class="hljs-number">0</span>;j&lt;temp.size();j++)&#123;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;graph.getNumOfVertex();i++)&#123;<br>                    <span class="hljs-keyword">if</span>(graph.edge[temp.get(j)][i]!=<span class="hljs-number">0</span>&amp;&amp;!graph.isVisited[i]&amp;&amp;graph.edge[temp.get(j)][i]&lt;minRoute)&#123;<br>                        minRoute=graph.edge[temp.get(j)][i];<br>                        nextVertex=i;<br>                        curVertex=temp.get(j);<br>                    &#125;<br>                &#125;<br>            &#125;<span class="hljs-comment">//找到当前加入树中的顶点的最小边，确定下一个加入的顶点</span><br>            graph.isVisited[nextVertex]=<span class="hljs-literal">true</span>;<br>            minRoute=Integer.MAX_VALUE;<span class="hljs-comment">//重新设为最大值</span><br>            temp.add(nextVertex);<br>            result.add(<span class="hljs-string">&quot;&lt;&quot;</span>+graph.getValueByIndex(curVertex)+<span class="hljs-string">&quot;,&quot;</span>+graph.getValueByIndex(nextVertex)+<span class="hljs-string">&quot;&gt;&quot;</span>);<br>        &#125;<br>        System.out.println(<span class="hljs-string">&quot;各顶点间的连线：&quot;</span>);<br>        <span class="hljs-keyword">for</span>(String e:result) System.out.println(e);<br>        System.out.println();<br>        <span class="hljs-keyword">for</span>(Integer e:temp) System.out.print(graph.getValueByIndex(e)+<span class="hljs-string">&quot; &quot;</span>);<br><br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>运行结果：<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java">各顶点间的连线：<br>&lt;A,G&gt;<br>&lt;G,B&gt;<br>&lt;G,E&gt;<br>&lt;E,F&gt;<br>&lt;F,D&gt;<br>&lt;A,C&gt;<br><br>A G B E F D C <span class="hljs-number">10</span><br></code></pre></td></tr></table></figure></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>算法</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>代码规范</title>
    <link href="/2023/11/19/%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83/"/>
    <url>/2023/11/19/%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83/</url>
    
    <content type="html"><![CDATA[<h2 id="使用泛型类"><a href="#使用泛型类" class="headerlink" title="使用泛型类"></a>使用泛型类</h2>]]></content>
    
    
    
    <tags>
      
      <tag>java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title></title>
    <link href="/2023/11/16/%E5%9F%B9%E8%AE%AD%E8%AE%B0%E5%BD%95/"/>
    <url>/2023/11/16/%E5%9F%B9%E8%AE%AD%E8%AE%B0%E5%BD%95/</url>
    
    <content type="html"><![CDATA[<h2 id="第一次培训11-18"><a href="#第一次培训11-18" class="headerlink" title="第一次培训11.18"></a>第一次培训11.18</h2><p>写一个支持四则运算的计算程序<br>输入为num1 op num2,输出炜运算后的结果num3<br>输入的数据都为double类型<br>多考虑可靠性和可拓展性<br>想象成在写一个后台服务的组件<br>Enum类，单例<br>跳跃链表<br>多线程：jvm虚拟机，并发编程的艺术</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>学习记录</title>
    <link href="/2023/11/10/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"/>
    <url>/2023/11/10/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/</url>
    
    <content type="html"><![CDATA[<h1 id="学习记录"><a href="#学习记录" class="headerlink" title="学习记录"></a>学习记录</h1><p>（周六到下个周五为一周）  </p><h3 id="第一周（11-4-11-10）"><a href="#第一周（11-4-11-10）" class="headerlink" title="第一周（11.4-11.10）"></a>第一周（11.4-11.10）</h3><ol><li>headfirstjava学到60面</li><li>搭建了简单的个人博客：<a href="https://comingyu.github.io/">https://comingyu.github.io/</a></li></ol><h3 id="第二周（11-11-11-18）"><a href="#第二周（11-11-11-18）" class="headerlink" title="第二周（11.11-11.18）"></a>第二周（11.11-11.18）</h3><p>1.headfirstjava:60-106</p>]]></content>
    
    
    
    <tags>
      
      <tag>记录</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>爬虫学习</title>
    <link href="/2023/11/10/%E7%88%AC%E8%99%AB%E5%AD%A6%E4%B9%A0/"/>
    <url>/2023/11/10/%E7%88%AC%E8%99%AB%E5%AD%A6%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<h1 id="爬虫学习"><a href="#爬虫学习" class="headerlink" title="爬虫学习"></a>爬虫学习</h1><h2 id="一般情况下获取网页信息的步骤"><a href="#一般情况下获取网页信息的步骤" class="headerlink" title="一般情况下获取网页信息的步骤"></a>一般情况下获取网页信息的步骤</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> urllib.request<br>url=<span class="hljs-string">&#x27;http://www.baidu.com&#x27;</span><br>headers = &#123;<br>        <span class="hljs-string">&#x27;User-Agent&#x27;</span>: <span class="hljs-string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/118.0.0.0 Safari/537.36 Edg/118.0.2088.69&#x27;</span><br>    &#125;<br>requests=urllib.request.Request(url=rul,headers=headers)<br><span class="hljs-comment">#获取hanlder对象</span><br>handler=urllib.request.HTTPHandler()<br><span class="hljs-comment">#获取opener对象</span><br>opener=urllib.request.build_opener(handler)<br><span class="hljs-comment">#调用open方法</span><br>opener.<span class="hljs-built_in">open</span>(requests)<br>content=response.read().decode(<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br></code></pre></td></tr></table></figure><ol><li>引入request库</li><li>用网页的url和headers建立一个请求对象，如上面url为百度，header中的信息为本机的User-Agent（主要为了伪造成浏览器的访问，防止服务器识别到而禁止访问）</li><li>获取hanlder对象：</li><li>获取opener对象</li><li>调用open方法</li><li>调用read反法读取内容，用utf-8解码</li><li></li></ol>]]></content>
    
    
    
    <tags>
      
      <tag>记录</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>星辰工作室后端笔试题</title>
    <link href="/2023/11/10/%E6%98%9F%E8%BE%B0%E5%90%8E%E7%AB%AF%E7%AC%94%E8%AF%95%E9%A2%98/"/>
    <url>/2023/11/10/%E6%98%9F%E8%BE%B0%E5%90%8E%E7%AB%AF%E7%AC%94%E8%AF%95%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h1 id="星辰工作室后端笔试题"><a href="#星辰工作室后端笔试题" class="headerlink" title="星辰工作室后端笔试题"></a>星辰工作室后端笔试题</h1><h2 id="2-语言基础"><a href="#2-语言基础" class="headerlink" title="2.语言基础"></a>2.语言基础</h2><h3 id="2-3双向链表"><a href="#2-3双向链表" class="headerlink" title="2.3双向链表"></a>2.3双向链表</h3><p>定义Node类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Node</span>&#123;<br>    <span class="hljs-type">int</span> data;<br>    Node prev;<span class="hljs-comment">//储存前一个结点</span><br>    Node next;<span class="hljs-comment">//储存后一个结点</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Node</span><span class="hljs-params">(<span class="hljs-type">int</span> data)</span>&#123;<br>        <span class="hljs-built_in">this</span>.data=data;<br>        <span class="hljs-built_in">this</span>.prev=<span class="hljs-literal">null</span>;<br>        <span class="hljs-built_in">this</span>.next=<span class="hljs-literal">null</span>;<br>    &#125;<span class="hljs-comment">//定义构造方法，创建对象时传入该结点的数据</span><br>&#125;<span class="hljs-comment">//定义结点</span><br></code></pre></td></tr></table></figure><p>定义DoublyLinkedList类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DoublyLinkedList</span>&#123;<br>    <span class="hljs-keyword">private</span> Node head;<br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">DoublyLinkedList</span><span class="hljs-params">()</span>&#123;<br>        head=<span class="hljs-literal">null</span>;<br>    &#125;<span class="hljs-comment">//构造函数将head的引用设为空</span><br>    <span class="hljs-comment">//在尾部增加结点</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">append</span><span class="hljs-params">(<span class="hljs-type">int</span> data)</span>&#123;<br>        Node newNode=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Node</span>(data);<br>        <span class="hljs-keyword">if</span>(head==<span class="hljs-literal">null</span>)&#123;<br>            head=newNode;<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            Node current=head;<br>            <span class="hljs-keyword">while</span>(current.next!=<span class="hljs-literal">null</span>)&#123;<br>                current=current.next;<br>            &#125;<br>            current.next=newNode;<br>            newNode.prev=current;<br>        &#125;<br>    &#125;<br>    <span class="hljs-comment">//遍历链表</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">printList</span><span class="hljs-params">()</span>&#123;<br>        Node current=head;<br>        <span class="hljs-keyword">while</span>(current!=<span class="hljs-literal">null</span>)&#123;<br>            System.out.println(current.data+<span class="hljs-string">&quot; &quot;</span>);<br>            current=current.next;<br>        &#125;<br>        System.out.println();<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>可以通过DoublyLinkedList创建双向链表对象，调用appen方法增加结点，调用printList方法打印链表，可以满足小埋存放每天睡觉小时数的要求。</p><hr><h4 id="2-3-1复用"><a href="#2-3-1复用" class="headerlink" title="2.3.1复用"></a>2.3.1复用</h4><p>定义Node类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Node</span>&lt;T&gt;&#123;<br>    T data;<br>    Node prev;<span class="hljs-comment">//储存前一个结点</span><br>    Node next;<span class="hljs-comment">//储存后一个结点</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Node</span><span class="hljs-params">(T data)</span>&#123;<br>        <span class="hljs-built_in">this</span>.data=data;<br>        <span class="hljs-built_in">this</span>.prev=<span class="hljs-literal">null</span>;<br>        <span class="hljs-built_in">this</span>.next=<span class="hljs-literal">null</span>;<br>    &#125;<span class="hljs-comment">//定义构造方法，创建对象时传入该结点的数据</span><br>&#125;<span class="hljs-comment">//定义结点</span><br></code></pre></td></tr></table></figure><p>定义DoublyLinkedList类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DoublyLinkedList</span>&lt;T&gt;&#123;<br>    <span class="hljs-keyword">private</span> Node head;<br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">DoublyLinkedList</span><span class="hljs-params">()</span>&#123;<br>        head=<span class="hljs-literal">null</span>;<br>    &#125;<span class="hljs-comment">//构造函数将head的引用设为空</span><br>    <span class="hljs-comment">//在尾部增加结点</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">append</span><span class="hljs-params">(T data)</span>&#123;<br>        Node newNode=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Node</span>(data);<br>        <span class="hljs-keyword">if</span>(head==<span class="hljs-literal">null</span>)&#123;<br>            head=newNode;<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            Node current=head;<br>            <span class="hljs-keyword">while</span>(current.next!=<span class="hljs-literal">null</span>)&#123;<br>                current=current.next;<br>            &#125;<br>            current.next=newNode;<br>            newNode.prev=current;<br>        &#125;<br>    &#125;<br>    <span class="hljs-comment">//遍历链表</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">printList</span><span class="hljs-params">()</span>&#123;<br>        Node current=head;<br>        <span class="hljs-keyword">while</span>(current!=<span class="hljs-literal">null</span>)&#123;<br>            System.out.println(current.data+<span class="hljs-string">&quot; &quot;</span>);<br>            current=current.next;<br>        &#125;<br>        System.out.println();<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>main方法运行示例：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        DoublyLinkedList dll=<span class="hljs-keyword">new</span> <span class="hljs-title class_">DoublyLinkedList</span>();<br>        dll.append(<span class="hljs-string">&quot;这一天写代码写太晚没有睡觉~&quot;</span>);<br>        dll.append(<span class="hljs-number">20</span>);<br>        dll.append(<span class="hljs-literal">true</span>);<br>        dll.printList();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">这一天写代码写太晚没有睡觉~ <br><span class="hljs-number">20</span> <br><span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><h4 id="2-3-3"><a href="#2-3-3" class="headerlink" title="2.3.3"></a>2.3.3</h4><p>main函数：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        DoublyLinkedList dll=<span class="hljs-keyword">new</span> <span class="hljs-title class_">DoublyLinkedList</span>();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">20</span>; i++) &#123;<br>            dll.append(i);<br>        &#125;<span class="hljs-comment">//在链表中添加20个结点</span><br>        dll.circle(<span class="hljs-number">7</span>);<span class="hljs-comment">//在第七个结点成环</span><br>        dll.findcircle();<span class="hljs-comment">//找出成环结点的位置，并消除环</span><br>        System.out.println(<span class="hljs-string">&quot;链表的长度为：&quot;</span>+dll.length());<span class="hljs-comment">//测试是否可以遍历链表来输出链表的长度</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>DoublyLinkedList中的方法：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DoublyLinkedList</span>&lt;T&gt;&#123;<br>    <span class="hljs-keyword">private</span> Node head;<br>    <span class="hljs-keyword">public</span> Node point;<br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">DoublyLinkedList</span><span class="hljs-params">()</span>&#123;<br>        head=<span class="hljs-literal">null</span>;<br>    &#125;<span class="hljs-comment">//构造函数将head的引用设为空</span><br>    <span class="hljs-comment">//在尾部增加结点</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">append</span><span class="hljs-params">(T data)</span>&#123;<br>        Node newNode=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Node</span>(data);<br>        <span class="hljs-keyword">if</span>(head==<span class="hljs-literal">null</span>)&#123;<br>            head=newNode;<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            Node current=head;<br>            <span class="hljs-keyword">while</span>(current.next!=<span class="hljs-literal">null</span>)&#123;<br>                current=current.next;<br>            &#125;<br>            current.next=newNode;<br>            newNode.prev=current;<br>            point=newNode;<br>        &#125;<br>    &#125;<br>    <span class="hljs-comment">//遍历链表</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">printList</span><span class="hljs-params">()</span>&#123;<br>        Node current=head;<br>        <span class="hljs-keyword">while</span>(current!=<span class="hljs-literal">null</span>)&#123;<br>            System.out.println(current.data+<span class="hljs-string">&quot; &quot;</span>);<br>            current=current.next;<br>        &#125;<br>        System.out.println();<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">length</span><span class="hljs-params">()</span>&#123;<br>        Node p=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Node</span>(<span class="hljs-literal">null</span>);<br>        <span class="hljs-keyword">if</span>(head==<span class="hljs-literal">null</span>)<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">else</span> p=head;<br>        <span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">while</span>(p.next!=<span class="hljs-literal">null</span>)&#123;<br>            p=p.next;<br>            i++;<br>        &#125;<br>        <span class="hljs-keyword">return</span> i;<br>    &#125;<span class="hljs-comment">//返回链表的长度</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">circle</span><span class="hljs-params">(<span class="hljs-type">int</span> p)</span>&#123;<br>        Node point1;<br>        <span class="hljs-keyword">if</span>(p&lt;<span class="hljs-built_in">this</span>.length())<br>            point1=head;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt; p; i++) &#123;<br>            point1=point1.next;<br>        &#125;<br>        Node mark=point1;<br>        <span class="hljs-keyword">while</span> (point1.next!=<span class="hljs-literal">null</span>)&#123;<br>            point1=point1.next;<br>        &#125;<br>        point1.next=mark;<br>    &#125;<span class="hljs-comment">//将链表的尾部接到第p个结点</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">findcircle</span><span class="hljs-params">()</span>&#123;<br>        Node s1=head;<br>        Node s2=head;<br>        Node p=head;<br>        <span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">while</span>(s2!=<span class="hljs-literal">null</span>&amp;&amp;s2!=<span class="hljs-literal">null</span>)&#123;<br>            s1=s1.next;<br>            s2=s2.next.next;<br>            <span class="hljs-keyword">if</span>(s1==s2) <span class="hljs-keyword">break</span>;<br>        &#125;<br>        <span class="hljs-comment">//用s1和s2两个结点，s1每次前进一个结点，s2每次前进两个结点，两个结点将会在环中相遇，且此时s1还没有走完整个环</span><br>        <span class="hljs-comment">//设头结点到成环结点s的长度为x，s到相遇的结点的距离为y，相遇结点到s的距离为z</span><br>        <span class="hljs-comment">//则有2*(x+y)=x+y+n*(y+z),化简为x=(n-1)*(y+z)+z,可知将s1置于头结点，s1和s2同时逐个遍历，当s1到达s时，s2也到达</span><br>        s1=head;<br>        <span class="hljs-keyword">while</span>(s1!=s2)&#123;<br>            s1=s1.next;<br>            s2=s2.next;<br>        &#125;<br>        <span class="hljs-keyword">while</span> (p!=s1)&#123;<br>            p=p.next;<br>            i++;<br>        &#125;<br>        System.out.println(<span class="hljs-string">&quot;成环发生在第&quot;</span>+i+<span class="hljs-string">&quot;个结点&quot;</span>);<br>        <span class="hljs-keyword">while</span> (p.next!=s1)&#123;<br>            p=p.next;<br>        &#125;<br>        p.next=<span class="hljs-literal">null</span>;<br>    &#125;<span class="hljs-comment">//找出链表成环的位置，并消除环</span><br>&#125;<br><br></code></pre></td></tr></table></figure><p>运行结果</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java">成环发生在第<span class="hljs-number">7</span>个结点<br>链表的长度为：<span class="hljs-number">20</span><br><br>Process finished with exit code <span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><p>尝试过多个数据，该findcircle方法可以解决链表尾部成环的问题</p><h3 id="2-4实践题-算法"><a href="#2-4实践题-算法" class="headerlink" title="2.4实践题-算法"></a>2.4实践题-算法</h3><p>该题的涉及到背包问题，使用动态规划的思路来解决，逐个增加背包的体积和炸弹的种类，依次找到每种组合下的最优解。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.Scanner;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Keli</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br><br>        <span class="hljs-type">Scanner</span> <span class="hljs-variable">scanner</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scanner</span>(System.in);<br>        <span class="hljs-type">int</span> <span class="hljs-variable">N</span> <span class="hljs-operator">=</span> scanner.nextInt(); <span class="hljs-comment">// 炸弹种类数量</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">V</span> <span class="hljs-operator">=</span> scanner.nextInt(); <span class="hljs-comment">// 背包容量</span><br>        <span class="hljs-type">int</span>[] s = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[N]; <span class="hljs-comment">// 炸弹体积</span><br>        <span class="hljs-type">int</span>[] w = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[N]; <span class="hljs-comment">// 炸弹威力</span><br>        <span class="hljs-type">int</span>[] num = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[N]; <span class="hljs-comment">// 每种炸弹的数量限制</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; N; i++) &#123;<br>            s[i] = scanner.nextInt();<br>            w[i] = scanner.nextInt();<br>            num[i] = scanner.nextInt();<br>        &#125;<br>        <span class="hljs-type">long</span> <span class="hljs-variable">startTime</span> <span class="hljs-operator">=</span> System.currentTimeMillis();<br>        <span class="hljs-type">int</span>[][] dp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[N + <span class="hljs-number">1</span>][V + <span class="hljs-number">1</span>];<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt;= N; i++) &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; j &lt;= V; j++) &#123;<br>                dp[i][j] = dp[i - <span class="hljs-number">1</span>][j]; <span class="hljs-comment">// 初始化为上一行的值</span><br>                <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">k</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; k &lt;= num[i - <span class="hljs-number">1</span>] &amp;&amp; k * s[i - <span class="hljs-number">1</span>] &lt;= j; k++) &#123;<br>                    dp[i][j] = Math.max(dp[i][j], dp[i - <span class="hljs-number">1</span>][j - k * s[i - <span class="hljs-number">1</span>]] + k * w[i - <span class="hljs-number">1</span>]);<br>                &#125;<span class="hljs-comment">//每增加一个炸弹都要考虑两种选择：不增加这个炸弹，或者空出体积放这个新炸弹，这两个选择中取总威力的最大值即为当前的最优解</span><br>                <span class="hljs-comment">//同时还要考虑到不要超过炸弹的数量</span><br>            &#125;<br>        &#125;<br>        System.out.println(<span class="hljs-string">&quot;最多能装下的蹦蹦炸弹威力为：&quot;</span> + dp[N][V]);<br>        scanner.close();<br>        <span class="hljs-type">long</span> endTime=System.currentTimeMillis();<br>        System.out.println(<span class="hljs-string">&quot;运行时间&quot;</span>+(endTime-startTime)+<span class="hljs-string">&quot;毫秒&quot;</span>);<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>运行结果为：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-number">4</span> <span class="hljs-number">5</span><br><span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span><br><span class="hljs-number">2</span> <span class="hljs-number">4</span> <span class="hljs-number">1</span><br><span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">3</span><br><span class="hljs-number">4</span> <span class="hljs-number">5</span> <span class="hljs-number">2</span><br>最多能装下的蹦蹦炸弹威力为：<span class="hljs-number">10</span><br>运行时间<span class="hljs-number">2</span>毫秒<br></code></pre></td></tr></table></figure><p>符合预期</p><h2 id="2-5思考题"><a href="#2-5思考题" class="headerlink" title="2.5思考题"></a>2.5思考题</h2><h3 id="2-5-1-常见的排序算法及其复杂度（以从小到大排序为例）"><a href="#2-5-1-常见的排序算法及其复杂度（以从小到大排序为例）" class="headerlink" title="2.5.1 常见的排序算法及其复杂度（以从小到大排序为例）"></a>2.5.1 常见的排序算法及其复杂度（以从小到大排序为例）</h3><ul><li>插入排序（时间：O(n^2);空间：O(1)）：<br>从第二个元素开始每个元素和前一个元素比较，若前一个数更大则该数后移，直到找到一个更小的数。</li><li>希尔排序（时间：O(n);空间：O(1)）<br>先选定一个小于序列长度的数gap作为增量，每隔gap的数为一组，对每组进行插入排序，完成后再选择一个更小的gap进行排序，当gap减小到1时，即为对整个序列插入排序，完成排序。希尔排序先将待排序的序列预排序，时其接近有序，最后再插入排序。</li><li>选择排序：（时间：O(n^2);空间：O(n^2)）<br>每次在序列中选择一个最小值和最大值，分别放在序列的开头和末尾，直到排完全部序列。</li><li>冒泡排序：（时间：O(n^2);空间：O(1)）<br>每次从序列的开头开始排每相邻的两个，每次排完都可以将最大的一个数排到最后确定位置，依次这样排完整个序列。</li><li>归并排序（时间：O(nlongn);空间：O(n)）<br>将序列从中间分成两部分，在将两部分分成四部分，直到分割成一个个的数据，再将这些数据两两比较归并到一起，直到归并成整个序列。</li><li>快速排序——三数取中（时间：O(nlongn);空间：O(longn)）<br>在序列的头尾分别设一个指针low和high，先提取出第一个数，此时low为空，检测不为空的high，大于枢纽值则high左移，小于则填到low的位置，high为空，依次排完整个序列，直到high和low重合，将枢纽值填入该位置，就可以得到两个子序列，再依次对每个子序列用同样的方法排序。</li></ul><hr><h3 id="2-5-2-语言特性"><a href="#2-5-2-语言特性" class="headerlink" title="2.5.2 语言特性"></a>2.5.2 语言特性</h3><ol><li>面向对象和面向过程的内涵和区别：<br>面向过程一般是为了解决当前的问题来设计函数，对于其他不同的问题一般是难以复用的；而面向过程则是考虑到未来的使用，设计不同的类，在类中设计方法，通过继承、多态等功能使得程序不仅对于当前情景有作用，日后面对其他有相同特点的问题时也可以复用一部分，提高开发的效率，同时面向对象的封装特性使得可以将数据和行为封装在对象的内部，可以更好地修改和维护。面向过程的编程会更加适合轻量的程序编写，面向过程则更适合复杂的系统如大型软件的开发。</li></ol><hr><ol start="2"><li>Java 的拆箱和装箱过程以及其作用<br>拆箱是将包装类对象转换成基本数据类型的过程，装箱则是将基本数据类型转换成包装类对象的过程，1.5以后版本的Java中都实现了自动装箱和拆箱的功能，不需要手动创建包装类对象或是用velueof方法等。<br>作用：允许基本数据类型和Object类型的相互转换,可以通过这样的方法来使值类型适用于一些只能使用应用类型的场景，如集合类。</li></ol><hr><ol start="3"><li>String 类型的设计思路<br>不可变性：一旦创建了String类的对象，其值就不能再更改，使得该类对象有这些优点：1.安全性：多个引用可以指向同一个对象，而不用担心其值会被修改；2.线程安全：可以被多个线程安全地共享，不需要额外的同步措施；3.缓存哈希码：哈希值可以在创建的时候就计算和储存，使得字符串在在哈希表等结构中的储存更加高效；4：提高了性能：可共享的字符串内容和创建时就计算和储存的哈希值，减少了内存的占用，提高了性能<br>字符串池：String类的对象通常被储存在字符串池中，以便共享相同内容的字符串，创建字符串字面量时，Java会先检查字符串池中是否有相同的字符串，存在则返回其引用，不存在则会创建新的字符串并放入池中。</li></ol><hr><ol start="4"><li>JDK 8 版本中引入的 Lambda 表达式和函数编程的使用和实现<br>在  JDK8引入的lambda表达式1.使得代码更加的简洁，开发者可以用更少的代码来表示函数或匿名内部类的实例；2.使Java支持函数式编程范式，可以将函数作为参数或者返回值；3.代码的组织更加简单和值观；4.和Stream API配合使用，可以更容易地实现并行编程。<br>使用实例：<br>用Function接口将字符串转换成整型数据之后输出<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Function</span>&lt;T,R&gt; &#123;<br>    R <span class="hljs-title function_">apply</span><span class="hljs-params">(T t)</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.function.Function;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Lambda</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;R&gt;R <span class="hljs-title function_">typeConver</span><span class="hljs-params">(Function&lt;String,R&gt; function)</span>&#123;<br>        String str=<span class="hljs-string">&quot;66666&quot;</span>;<br>        R result=function.apply(str);<br>        <span class="hljs-keyword">return</span> result;<br>    &#125;<span class="hljs-comment">//定义typeConver方法，将String类型数据转换成泛型R</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        Integer result=typeConver(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Function</span>&lt;String,Integer&gt;()&#123;<br>            <span class="hljs-meta">@Override</span><br>            <span class="hljs-keyword">public</span> Integer <span class="hljs-title function_">apply</span><span class="hljs-params">(String s)</span>&#123;<br>                <span class="hljs-keyword">return</span> Integer.valueOf(s);<br>            &#125;<br>        &#125;);<span class="hljs-comment">//用Function接口创建一个匿名内部类，并重写其中的抽象方法</span><br>        System.out.println(result);<br>    &#125;<br><br>&#125;<br><br></code></pre></td></tr></table></figure>lambda表达式对比<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">import</span> java.util.function.Function;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Lambda</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;R&gt;R <span class="hljs-title function_">typeConver</span><span class="hljs-params">(Function&lt;String,R&gt; function)</span>&#123;<br>        String str=<span class="hljs-string">&quot;66666&quot;</span>;<br>        R result=function.apply(str);<br>        <span class="hljs-keyword">return</span> result;<br>    &#125;<span class="hljs-comment">//定义typeConver方法，将String类型数据转换成泛型R</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        Integer result=typeConver((String s)-&gt;&#123;<br>            <span class="hljs-keyword">return</span> Integer.valueOf(s);<br>        &#125;);<span class="hljs-comment">//利用lambda表达式，省去了直接创建匿名内部类的步骤，只需要写参数和函数体</span><br>        System.out.println(result);<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure></li></ol><p>输出：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-number">66666</span><br><br>Process finished with exit code <span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><p>可见lambda表达式简化了代码的书写，而且提高了代码的可读性  </p><hr><p>Stream流函数式编程实践（在两个集合中过滤出前三个名字为三个字的男演员和姓林的女演员且去除第一个，将两个流合并，并生成实例输出姓名）：  </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> Stream;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Actor</span> &#123;<br>    <span class="hljs-keyword">private</span> String Name;<br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Actor</span><span class="hljs-params">(String s)</span>&#123;<br>        <span class="hljs-built_in">this</span>.Name=s;<br>    &#125;<br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getname</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">return</span> Name;<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String s)</span>&#123;<br>        <span class="hljs-built_in">this</span>.Name=s;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">package</span> Stream;<br><span class="hljs-keyword">import</span> java.util.ArrayList;<br><span class="hljs-keyword">import</span> java.util.stream.Stream;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StreamDemo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        ArrayList&lt;String&gt; manList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;String&gt;();<br>        manList.add(<span class="hljs-string">&quot;周润发&quot;</span>);<br>        manList.add(<span class="hljs-string">&quot;成龙&quot;</span>);<br>        manList.add(<span class="hljs-string">&quot;刘德华&quot;</span>);<br>        manList.add(<span class="hljs-string">&quot;吴京&quot;</span>);<br>        manList.add(<span class="hljs-string">&quot;周星驰&quot;</span>);<br>        manList.add(<span class="hljs-string">&quot;李连杰&quot;</span>);<br>        ArrayList&lt;String&gt; womanList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;String&gt;();<br>        womanList.add(<span class="hljs-string">&quot;林心如&quot;</span>);<br>        womanList.add(<span class="hljs-string">&quot;张曼玉&quot;</span>);<br>        womanList.add(<span class="hljs-string">&quot;林青霞&quot;</span>);<br>        womanList.add(<span class="hljs-string">&quot;柳岩&quot;</span>);<br>        womanList.add(<span class="hljs-string">&quot;林志玲&quot;</span>);<br>        womanList.add(<span class="hljs-string">&quot;王祖贤&quot;</span>);<br>        Stream&lt;String&gt; manStream=manList.stream().filter(s-&gt;s.length()==<span class="hljs-number">3</span>).limit(<span class="hljs-number">3</span>);<span class="hljs-comment">//过滤前三个名字为三个字的男演员</span><br>        Stream&lt;String&gt; womenStream=womanList.stream().filter(s-&gt;s.startsWith(<span class="hljs-string">&quot;林&quot;</span>)).skip(<span class="hljs-number">1</span>);<span class="hljs-comment">//过滤出姓林的女演员且略去第一个</span><br>        Stream&lt;String&gt; all=Stream.concat(manStream,womenStream);<span class="hljs-comment">//合并两个流</span><br>        all.map(Actor::<span class="hljs-keyword">new</span>).forEach(s-&gt; System.out.println(s.getname()));<span class="hljs-comment">//调用构造方法，输出每个实例的Name</span><br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>可见lambda表达式配合Stream API可以很大程度上简化代码，提高代码的可读性，函数式编程也可以编写更易于维护和拓展的代码，更轻松地使用并行操作。  </p><hr><ol start="5"><li>Java 中全限定名称相同的两个类的 Class 对象一定 equals() 吗?<br>不一定，两个“class”对象是否相同取决于它们的加载器是否相同，全限定名称相同的两个类对象若加载器不同那么也不会equal()<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 自定义类加载器</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomClassLoader1</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ClassLoader</span> &#123;<br>    <span class="hljs-comment">// 实现自定义类加载逻辑</span><br>&#125;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomClassLoader2</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ClassLoader</span> &#123;<br>    <span class="hljs-comment">// 实现自定义类加载逻辑</span><br>&#125;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">ClassA</span>&#123;<br><br>&#125;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">ClassB</span>&#123;<br><br>&#125;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ClassLoder</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ClassNotFoundException &#123;<br>        <span class="hljs-comment">// 使用不同的类加载器加载同一个类</span><br>        <span class="hljs-type">ClassLoader</span> <span class="hljs-variable">classLoader1</span> <span class="hljs-operator">=</span> ClassA.class.getClassLoader();<br>        <span class="hljs-type">ClassLoader</span> <span class="hljs-variable">classLoader2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CustomClassLoader1</span>();<br><br>        Class&lt;?&gt; class1 = classLoader1.loadClass(<span class="hljs-string">&quot;FuctionalInterface.Lambda&quot;</span>);<br>        Class&lt;?&gt; class2 = classLoader2.loadClass(<span class="hljs-string">&quot;FuctionalInterface.Lambda&quot;</span>);<br><br>        System.out.println(class1 == class2); <span class="hljs-comment">// 可能返回 false</span><br>        System.out.println(class1.equals(class2)); <span class="hljs-comment">// 可能返回 false</span><br><br>    &#125;<br>&#125;<br><span class="hljs-comment">//尝试了一下好像不行呀</span><br></code></pre></td></tr></table></figure></li></ol><hr><h4 id="2-5-3集合"><a href="#2-5-3集合" class="headerlink" title="2.5.3集合"></a>2.5.3集合</h4><ol><li>请介绍一下 ArrayList 和 LinkedList 的区别<br>ArrayList的底层实现是数组，可以通过索引直接找到元素，遍历上的效率较高，当数组的空间不够时，会再开个原来1.5倍大的新数组，并将原来的数据储存到这个新数组中，这可能会浪费大量的内存，但是可以通过ensureCapacity方法来将容量设置到指定大小，或者通过trimToSize方法来将容量大小设置到当前含的元素的大小。<br>LinkedList的底层逻辑是双向链表，所以它不能像数组那样通过索引直接找到元素，相比于LinkedList来说再遍历上的性能较低，由于通过链表实现，LinkedList不需要像ArrayList那样1.5倍扩容，在增减元素上性能较好。<br>因此频繁查找和修改元素时，一般使用ArrayList；频繁增减元素时，一般使用LinkedList。  </li><li>请介绍一下 HashMap 的实现方式<br>HashMap是一种基于哈希表实现的数据结构，它使用一个数组来储存数据，当插入一个键值对是，HashMap会根据键的哈希值计算出在数组中的位置，然后将该键值对添加到相应的链表中，对键值对进行其他操作时，HashMap也会根据键的哈希值找到其在数组中的位置，然后在相应的链表中进行操作，Java8中，链表的长度大于8时会将链表转化为红黑树，以提高查找效率，当红黑树节点数小于6时，会将其转换为链表。</li></ol><hr><h4 id="并发"><a href="#并发" class="headerlink" title="并发"></a>并发</h4><ol><li>请介绍一下进程&#x2F;线程&#x2F;协程的区别<br>进程是操作系统中的独立执行单位，有独立的内存空间和资源，进程有较高的隔离性，不能直接共享内存，进程崩溃也不会对其他的进程产生直接的影响。<br>线程是进程内的执行单位，共享同一进程的内存和资源，线程之间可以更加轻松地通信，切换线程比切换进程要更加轻量级。<br>协程是一种轻量级的线程，不依赖于操作系统的进程或线程，由编程语言或库提供支持，通常在单个线程里执行。</li><li>   请介绍一下你对并发的理解, 以及一些保证线程安全的方法<br>并发是指在多核计算机或在多个计算机上同时执行多个任务的能力。并发的目的是让多个进程或线程在同一时间段内执行，同时有效地管理执行线程，以避免数据竞争等并发问题，提高程序的性能和响应性。<br>保证线程安全的方法：1.互斥锁：用于保证任何时候都只有一个线程可以访问共享资源，可以通过’synchronized’关键字来创建互斥锁；2.线程池：可以限制并发线程的数量，避免创建过多的线程。  </li><li>操作系统中线程的实现方式<br>线程在用户空间下实现（用户线程）（多对一）：所有的线程都在用户空间实现，在操作系统看来每个进程只有一个线程，；进行线程切换的速度要远快于在通过操作系统内核切换，同时程序员可以在用户空间实现自己的线程调度算法，当线程数量多时，也不会大量占据操作系统的空间；但是当进程中的一个线程阻塞（如等待输入）时会阻塞整个进程，或者一个线程长时间不释放CPU，会导致其他线程的u到cpu而持续等待。<br>线程在操作系统内核实现（内核线程）（一对一）：线程由操作系统内核直接支持和管理，提供了多线程的高度并发性和并行性，可以充分利用多核的处理器，但是线程的切换开销较大。<br>混合模式（多对多）：程序员可以自行决定使用多少用户线程和内核线程，结合了前两种方式的优点  </li><li>jvm中线程的实现方法<br>每个Java线程都可以由一个Java线程对象表示，这些对象由jvm管理，jvm的线程对象可以映射到内核线程或者用户线程（即上题说到的三种模型），这取决于jvm的具体实现，jvm负责线程的创建、销毁和调度已经线程同步和线程通信，提供了内置的同步机制，同时还允许开发人员调整线程池大小等。  </li><li>Java中synchronized关键字的作用和实现方式<br>作用:保证同一时刻只有一个线程可以执行某个方法或者某个代码块，保证一个线程的变化可以被其他的线程看到。<br>原理：每个线程进入同步代码块（即synchronized修饰的代码块）时，都会尝试获取对象的监视器锁，如果锁被其他线程占用，线程将进入阻塞状态，直到进入同步代码块的线程执行完毕或者调用wait()方法，锁被释放</li></ol><hr><h4 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h4><ol><li>为什么要有对异常的处理</li></ol><ul><li>可靠性：通过捕获和处理异常，程序可以在发生错误的时候做出正确的处理，而不会因为错误而导致程序崩溃不能运行  </li><li>有助于问题的诊断，可以从异常信息中了解到错误的类型，位置等信息  </li><li>兼容性：使得程序可以在不同的环境下更加健壮地运行，可以适用于不同的错误和异常情况</li><li>可读性：将错误处理代码和正常业务逻辑分开，提高代码的可读性，有助于代码的理解和维护</li></ul><ol start="2"><li>异常的抛出和捕获方法<br>抛出：创建一个异常对象，并使用throw关键字来抛出，例如：<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">&quot;error&quot;</span>);<br><br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>运行结果<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java">Exception in thread <span class="hljs-string">&quot;main&quot;</span> java.lang.IllegalArgumentException: error<br>at Main.main(Main.java:<span class="hljs-number">3</span>)<br>```  <br>捕获：异常被抛出时，可以用<span class="hljs-keyword">try</span>-<span class="hljs-keyword">catch</span>来捕获和处理异常，<span class="hljs-keyword">try</span>包含可能引发异常的代码，<span class="hljs-keyword">catch</span>用于捕获和处理异常，可以在<span class="hljs-keyword">try</span>之后使用多个<span class="hljs-keyword">catch</span>来捕获不同的异常，来进行不同的处理，例如：<br>```java<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        String s=<span class="hljs-literal">null</span>;<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-type">int</span> length=s.length();<br>            <span class="hljs-type">int</span> num=<span class="hljs-number">10</span>/<span class="hljs-number">0</span>;<br>        &#125; <span class="hljs-keyword">catch</span> (ArithmeticException e) &#123;<br>            System.out.println(<span class="hljs-string">&quot;An error occurred: &quot;</span> + e.getMessage());<br>        &#125;<span class="hljs-keyword">catch</span>(NullPointerException E)&#123;<br>            System.out.println(<span class="hljs-string">&quot;空引用&quot;</span>);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>运行结果<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">空引用<br></code></pre></td></tr></table></figure>代码中用到了两个catch，分别捕获算数异常和空引用异常，try包含的代码中，先抛出了空引用的异常，所以被第二个catch捕获并处理。  </li><li>try-catch-finally模块中finally的执行逻辑<br>finally包含的代码会在try和catch中的代码执行后无论是否发生异常都执行。finally通常用来进行资源的释放和清理工作，如在try中打开文件读取，无论是否发生异常都关闭文件。</li></ol><hr><h3 id="设计模式"><a href="#设计模式" class="headerlink" title="设计模式"></a>设计模式</h3><ol><li><p>对设计模式的理解<br>设计模式是人间开发人员在开发过程中面临的一般问题的解决方案；是项目迭代的过程中，为了实现一些功能，设计了一些方案，根据这些方案总结出的一些模式体系，并且这些体系被很多开发者接受使用。设计模式广泛地运用于大的项目中，让代码可以更容易被他人理解，保证代码的可靠性。  </p></li><li><p>单例模式，写一个线程安全的单例模式<br>单例模式属于设计模式中的创造型模式，定义是：保证一个类仅有一个实例，并提供一个访问它的全局访问点。单例模式可以减少内存的开销（如网站首页界面的缓存），避免对资源的多重占用（如文件的读写）<br>线程安全的单例模式</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.example.mysql.controller;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Singleton</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">volatile</span> <span class="hljs-keyword">static</span> Singleton single;<span class="hljs-comment">//声名为volatile，确保多线程之间对single可见</span><br><br>    <span class="hljs-keyword">private</span> <span class="hljs-title function_">Singleton</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">// 私有构造函数</span><br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Singleton <span class="hljs-title function_">getsingle</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">if</span> (single == <span class="hljs-literal">null</span>) &#123;  <span class="hljs-comment">// 第一次检查</span><br>            <span class="hljs-keyword">synchronized</span> (Singleton.class) &#123;<br>                <span class="hljs-keyword">if</span> (single == <span class="hljs-literal">null</span>) &#123;  <span class="hljs-comment">// 第二次检查</span><br>                    single = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Singleton</span>();<span class="hljs-comment">//创建对象</span><br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> single;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure></li><li><p>生产者消费者模式是一种多线程设计模式，不属于经典的设计模式，用于解决多线程的环境下，生产者和消费者数据的协同问题。在生产者消费者模式中，生产者和消费者共享一个资源池（缓冲区），生产者线程负责生成数据或任务，并将它们放入资源池，消费者从资源池中获取数据或任务，并执行操作。生产者消费者模式有利于实现线程之间的协作和数据共享，确保数据的安全传递。<br>使用synchronized、wait、notify实现生产者消费者模式示例</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.example.mysql.controller;<br><br><span class="hljs-keyword">import</span> java.util.concurrent.TimeUnit;<br><br><span class="hljs-comment">//使用 synchronized和wait、notify实现生产者和消费者</span><br><span class="hljs-comment">//1.定义资源类</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyCacheResources1</span> &#123;<br><br>    <span class="hljs-type">int</span> <span class="hljs-variable">num</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<span class="hljs-comment">//共享资源：生产和消费数字</span><br><br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<span class="hljs-comment">//资源池中实际存储的数据个数</span><br><br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-variable">capacity</span> <span class="hljs-operator">=</span> <span class="hljs-number">5</span>;<span class="hljs-comment">//资源池中允许存放的资源数目</span><br><br>    <span class="hljs-type">Object</span> <span class="hljs-variable">obj</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>();<span class="hljs-comment">//作为锁</span><br><br>    <span class="hljs-comment">//生产方法</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">product</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> InterruptedException &#123;<br>        <span class="hljs-comment">//使用代码块，精确加锁，且synchronized会自动释放锁</span><br>        <span class="hljs-keyword">synchronized</span> (obj) &#123;<br>            <span class="hljs-comment">//当实际元素数量达到总容量是，生产阻塞等待</span><br>            <span class="hljs-keyword">if</span> (count == capacity) &#123;<br>                obj.wait();<br>            &#125;<br>            <span class="hljs-comment">//产生数据</span><br>            num++;<br>            count++;<br>            System.out.println(Thread.currentThread().getName() +<br>                    <span class="hljs-string">&quot;生产了一个数字&quot;</span> + num + <span class="hljs-string">&quot;，资源池剩余数据个数：&quot;</span> + count);<br>            <span class="hljs-comment">//唤醒其他所有线程，让他们竞争锁</span><br>            obj.notifyAll();<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">//消费的方法</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">consumer</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> InterruptedException &#123;<br>        <span class="hljs-keyword">synchronized</span> (obj) &#123;<br>            <span class="hljs-comment">//当资源池中没有资源时，消费阻塞，等待</span><br>            <span class="hljs-keyword">if</span> (count == <span class="hljs-number">0</span>) &#123;<br>                obj.wait();<br>            &#125;<br>            <span class="hljs-comment">//消费数据</span><br>            num--;<br>            count--;<br>            System.out.println(Thread.currentThread().getName() +<br>                    <span class="hljs-string">&quot;消费了一个数字&quot;</span> + num + <span class="hljs-string">&quot;，资源池剩余数据个数：&quot;</span> + count);<br>            <span class="hljs-comment">//唤醒其他所有线程，让他们竞争锁</span><br>            obj.notifyAll();<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductAndConsumerTest1</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">MyCacheResources1</span> <span class="hljs-variable">myCacheResources1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyCacheResources1</span>();<br>        <span class="hljs-comment">//用lamda表达式来创建线程</span><br>        <span class="hljs-comment">//生产者</span><br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">10</span>; i++) &#123;<span class="hljs-comment">//生产10轮</span><br>                <span class="hljs-keyword">try</span> &#123;<br>                    myCacheResources1.product();<br><br>                &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>                    e.printStackTrace();<br>                &#125;<br>            &#125;<br><br>        &#125;, <span class="hljs-string">&quot;生产者&quot;</span>).start();<br><br>        <span class="hljs-comment">//消费者1</span><br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; &#123;<br>            <span class="hljs-comment">//让生产者先 生产数据</span><br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">10</span>; i++) &#123;<span class="hljs-comment">//消费10轮，</span><br><br>                <span class="hljs-keyword">try</span> &#123;<br>                    myCacheResources1.consumer();<br>                    TimeUnit.SECONDS.sleep(<span class="hljs-number">1</span>);<span class="hljs-comment">//模拟消费时间</span><br>                &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>                    e.printStackTrace();<br>                &#125;<br>            &#125;<br>        &#125;, <span class="hljs-string">&quot;消费者1&quot;</span>).start();<br>        <span class="hljs-comment">//消费者2</span><br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; &#123;<br>            <span class="hljs-comment">//让生产者先 生产数据</span><br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">10</span>; i++) &#123;<br><br>                <span class="hljs-keyword">try</span> &#123;<br>                    myCacheResources1.consumer();<br>                    TimeUnit.SECONDS.sleep(<span class="hljs-number">1</span>);<br>                &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br><br>                    e.printStackTrace();<br>                &#125;<br>            &#125;<br>        &#125;, <span class="hljs-string">&quot;消费者2&quot;</span>).start();<br><br>    &#125;<br>&#125;<br><br><br></code></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java">生产者生产了一个数字<span class="hljs-number">1</span>，资源池剩余数据个数：<span class="hljs-number">1</span><br>生产者生产了一个数字<span class="hljs-number">2</span>，资源池剩余数据个数：<span class="hljs-number">2</span><br>生产者生产了一个数字<span class="hljs-number">3</span>，资源池剩余数据个数：<span class="hljs-number">3</span><br>生产者生产了一个数字<span class="hljs-number">4</span>，资源池剩余数据个数：<span class="hljs-number">4</span><br>生产者生产了一个数字<span class="hljs-number">5</span>，资源池剩余数据个数：<span class="hljs-number">5</span><br>消费者<span class="hljs-number">2</span>消费了一个数字<span class="hljs-number">4</span>，资源池剩余数据个数：<span class="hljs-number">4</span><br>消费者<span class="hljs-number">1</span>消费了一个数字<span class="hljs-number">3</span>，资源池剩余数据个数：<span class="hljs-number">3</span><br>生产者生产了一个数字<span class="hljs-number">4</span>，资源池剩余数据个数：<span class="hljs-number">4</span><br>生产者生产了一个数字<span class="hljs-number">5</span>，资源池剩余数据个数：<span class="hljs-number">5</span><br>消费者<span class="hljs-number">2</span>消费了一个数字<span class="hljs-number">4</span>，资源池剩余数据个数：<span class="hljs-number">4</span><br>生产者生产了一个数字<span class="hljs-number">5</span>，资源池剩余数据个数：<span class="hljs-number">5</span><br>消费者<span class="hljs-number">1</span>消费了一个数字<span class="hljs-number">4</span>，资源池剩余数据个数：<span class="hljs-number">4</span><br>生产者生产了一个数字<span class="hljs-number">5</span>，资源池剩余数据个数：<span class="hljs-number">5</span><br>消费者<span class="hljs-number">2</span>消费了一个数字<span class="hljs-number">4</span>，资源池剩余数据个数：<span class="hljs-number">4</span><br>生产者生产了一个数字<span class="hljs-number">5</span>，资源池剩余数据个数：<span class="hljs-number">5</span><br>消费者<span class="hljs-number">1</span>消费了一个数字<span class="hljs-number">4</span>，资源池剩余数据个数：<span class="hljs-number">4</span><br>消费者<span class="hljs-number">2</span>消费了一个数字<span class="hljs-number">3</span>，资源池剩余数据个数：<span class="hljs-number">3</span><br>消费者<span class="hljs-number">1</span>消费了一个数字<span class="hljs-number">2</span>，资源池剩余数据个数：<span class="hljs-number">2</span><br>消费者<span class="hljs-number">2</span>消费了一个数字<span class="hljs-number">1</span>，资源池剩余数据个数：<span class="hljs-number">1</span><br>消费者<span class="hljs-number">1</span>消费了一个数字<span class="hljs-number">0</span>，资源池剩余数据个数：<span class="hljs-number">0</span><br><br></code></pre></td></tr></table></figure></li></ol><h2 id="Http"><a href="#Http" class="headerlink" title="Http"></a>Http</h2><h3 id="Http请求"><a href="#Http请求" class="headerlink" title="Http请求"></a>Http请求</h3><p>假设前端在一个请求的 URL 中传来了 name 和 type 参数, 请你从前端请求中取出参数, 并将其以 name-type 的形式返回给前端.<br>用到的类：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.cy.receive_param.pojo;<br><span class="hljs-comment">//封装实体类（存放前端数据）</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> &#123;<br>    <span class="hljs-keyword">private</span> String username;<br>    <span class="hljs-keyword">private</span> String type;<br>    <span class="hljs-keyword">private</span> Cat cat;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;User&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;username=&#x27;&quot;</span> + username + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&quot;, type=&#x27;&quot;</span> + type + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&quot;, cat=&quot;</span> + cat +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> Cat <span class="hljs-title function_">getCat</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> cat;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setCat</span><span class="hljs-params">(Cat cat)</span> &#123;<br>        <span class="hljs-built_in">this</span>.cat = cat;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getUsername</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> username;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setUsername</span><span class="hljs-params">(String username)</span> &#123;<br>        <span class="hljs-built_in">this</span>.username = username;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">gettype</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> type;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">settype</span><span class="hljs-params">(String type)</span> &#123;<br>        <span class="hljs-built_in">this</span>.type = type;<br>    &#125;<br><br><br>&#125;<br><br></code></pre></td></tr></table></figure><ol start="0"><li>controller中的方法：<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//接收RESTful风格的数据</span><br>    <span class="hljs-meta">@RequestMapping(&quot;add3/&#123;name&#125;/&#123;type&#125;&quot;)</span><br>    <span class="hljs-comment">//占位符和形参相同时用pathvariable给上映射关系会直接传递，不同时这需要注明传递的相应占位符</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">add3</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable(&quot;name&quot;)</span> String username, <span class="hljs-meta">@PathVariable</span> String type)</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;username:&quot;</span>+username);<br>        System.out.println(<span class="hljs-string">&quot;type:&quot;</span>+type);<br>        <span class="hljs-keyword">return</span> username+<span class="hljs-string">&quot;-&quot;</span>+type;<br>    &#125;<br></code></pre></td></tr></table></figure></li></ol><p>从url中获得name和type并返回name-type<br><img src="/image.png" alt="Alt text"></p><ol><li>controller中的方法<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(&quot;add1&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">add1</span><span class="hljs-params">(String username,String type)</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;username=&quot;</span>+username);<br>        System.out.println(<span class="hljs-string">&quot;username=&quot;</span>+type);<br>        <span class="hljs-keyword">return</span> username+<span class="hljs-string">&quot;-&quot;</span>+type;<br>    &#125;<br></code></pre></td></tr></table></figure>从body中获得name和type并返回name-type<br><img src="/image-1.png" alt="Alt text"></li><li>controller中的方法<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(&quot;add7&quot;)</span><br>    <span class="hljs-comment">//获取请求头的auth，如果不存在则将authHeader设为null</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">add7</span><span class="hljs-params">(<span class="hljs-meta">@RequestHeader(value = &quot;Authorization&quot;, required = false)</span> String authHeader,User user)</span> &#123;<br>        <span class="hljs-keyword">if</span> (authHeader != <span class="hljs-literal">null</span> &amp;&amp; authHeader.equals(<span class="hljs-string">&quot;Love Star Studio&quot;</span>)) &#123;<br>            <span class="hljs-comment">// 如果Authorization中的数据是&quot;Love Star Studio&quot;则返回name-type数据</span><br>            System.out.println(authHeader);<br>            <span class="hljs-keyword">return</span> user.getUsername()+<span class="hljs-string">&quot;-&quot;</span>+user.gettype();<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            System.out.println(authHeader);<br>            <span class="hljs-comment">// 返回 &quot;Invalid User&quot;</span><br>            <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Invalid User&quot;</span>;<br>        &#125;<br>    &#125;<br></code></pre></td></tr></table></figure>auth存在且为Love Star Studio返回name-type<br><img src="/image-2.png" alt="Alt text"><br>auth不存在返回Invalid User<br><img src="/image-3.png" alt="Alt text"></li><li>封装的User类已在上面说明<br>controller中的方法：<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//参数较多时实体类会更加方便简洁</span><br>    <span class="hljs-comment">//前端提交的参数名称需要和类的属性名称保持一致</span><br>    <span class="hljs-meta">@RequestMapping(&quot;add2&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">add2</span><span class="hljs-params">(User user)</span>&#123;<br>        System.out.println(user);<br>        <span class="hljs-keyword">return</span> user.getUsername()+<span class="hljs-string">&quot;-&quot;</span>+user.gettype();<br>    &#125;<br></code></pre></td></tr></table></figure>返回数据<br><img src="/image-4.png" alt="Alt text"></li></ol><h3 id="3-3结合数据库一起写在后端应用中"><a href="#3-3结合数据库一起写在后端应用中" class="headerlink" title="3.3结合数据库一起写在后端应用中"></a>3.3结合数据库一起写在后端应用中</h3><p>controller包HepanUserController类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.example.mysql.controller;<br><br><span class="hljs-keyword">import</span> com.example.mysql.entity.HepanUser;<br><span class="hljs-keyword">import</span> com.example.mysql.service.HepanUserService;<br><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;<br><span class="hljs-keyword">import</span> org.springframework.http.HttpStatus;<br><span class="hljs-keyword">import</span> org.springframework.http.ResponseEntity;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.*;<br><br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-meta">@RestController</span><br><span class="hljs-meta">@RequestMapping(&quot;/hepanUser&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HepanUserController</span> &#123;<br>    <span class="hljs-meta">@Autowired</span><br>    HepanUserService hepanUserService;<br><br>    <span class="hljs-comment">//添加帖子</span><br>    <span class="hljs-meta">@PostMapping</span><br>    <span class="hljs-keyword">public</span> ResponseEntity&lt;HepanUser&gt; <span class="hljs-title function_">add</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> HepanUser user)</span> &#123;<br>        hepanUserService.add(user);<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ResponseEntity</span>&lt;&gt;(user, HttpStatus.CREATED);<br>    &#125;<br><br>    <span class="hljs-comment">//删除帖子</span><br>    <span class="hljs-meta">@DeleteMapping(&quot;/&#123;id&#125;&quot;)</span><br>    <span class="hljs-keyword">public</span> ResponseEntity&lt;String&gt; <span class="hljs-title function_">delete</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Integer id)</span> &#123;<br>        hepanUserService.delete(id);<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ResponseEntity</span>&lt;&gt;(id + <span class="hljs-string">&quot; deleted&quot;</span>, HttpStatus.OK);<br>    &#125;<br><br>    <span class="hljs-comment">//更改帖子</span><br>    <span class="hljs-meta">@PutMapping</span><br>    <span class="hljs-keyword">public</span> ResponseEntity&lt;HepanUser&gt; <span class="hljs-title function_">update</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> HepanUser user)</span> &#123;<br>        hepanUserService.update(user);<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ResponseEntity</span>&lt;&gt;(user, HttpStatus.OK);<br>    &#125;<br><br>    <span class="hljs-comment">//获取全部帖子信息</span><br>    <span class="hljs-meta">@GetMapping</span><br>    <span class="hljs-keyword">public</span> ResponseEntity&lt;List&lt;HepanUser&gt;&gt; <span class="hljs-title function_">selectAll</span><span class="hljs-params">()</span> &#123;<br>        List&lt;HepanUser&gt; allinfo = hepanUserService.selectAll();<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ResponseEntity</span>&lt;&gt;(allinfo, HttpStatus.OK);<br>    &#125;<br><br>    <span class="hljs-comment">//获取对应编号帖子的信息</span><br>    <span class="hljs-meta">@GetMapping(&quot;/&#123;id&#125;&quot;)</span><br>    <span class="hljs-keyword">public</span> ResponseEntity&lt;HepanUser&gt; <span class="hljs-title function_">selectById</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Integer id)</span> &#123;<br>        <span class="hljs-type">HepanUser</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> (HepanUser) hepanUserService.selectById(id);<br>        <span class="hljs-keyword">if</span> (user == <span class="hljs-literal">null</span>) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ResponseEntity</span>&lt;&gt;(HttpStatus.NOT_FOUND);<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ResponseEntity</span>&lt;&gt;(user, HttpStatus.OK);<br>    &#125;<br><br>    <span class="hljs-comment">//获取对应名字用户的信息</span><br>    <span class="hljs-meta">@GetMapping(&quot;/&#123;name&#125;&quot;)</span><br>    <span class="hljs-keyword">public</span> ResponseEntity&lt;List&lt;HepanUser&gt;&gt; <span class="hljs-title function_">getUsersByName</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam</span> String name)</span> &#123;<br>        List&lt;HepanUser&gt; userList = hepanUserService.selectByName(name);<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ResponseEntity</span>&lt;&gt;(userList, HttpStatus.OK);<br>    &#125;<br><br>    <span class="hljs-comment">//获取对应用户名和帖子内容的帖子</span><br>    <span class="hljs-meta">@GetMapping(&quot;/More&quot;)</span><br>    <span class="hljs-keyword">public</span> ResponseEntity&lt;List&lt;HepanUser&gt;&gt; <span class="hljs-title function_">getUsersByCriteria</span><span class="hljs-params">(</span><br><span class="hljs-params">            <span class="hljs-meta">@RequestParam(value = &quot;username&quot;, required = false)</span> String username,</span><br><span class="hljs-params">            <span class="hljs-meta">@RequestParam(value = &quot;post&quot;, required = false)</span> String post)</span> &#123;<br>        List&lt;HepanUser&gt; userList = hepanUserService.selectByMore(username, post);<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ResponseEntity</span>&lt;&gt;(userList, HttpStatus.OK);<br>    &#125;<br><br>    <span class="hljs-comment">//查找对应模糊信息的帖子</span><br>    <span class="hljs-meta">@GetMapping(&quot;/Vaguely&quot;)</span><br>    <span class="hljs-keyword">public</span> ResponseEntity&lt;List&lt;HepanUser&gt;&gt; <span class="hljs-title function_">searchVaguely</span><span class="hljs-params">(</span><br><span class="hljs-params">            <span class="hljs-meta">@RequestParam(value = &quot;username&quot;, required = false)</span> String username,</span><br><span class="hljs-params">            <span class="hljs-meta">@RequestParam(value = &quot;post&quot;, required = false)</span> String post)</span> &#123;<br>        List&lt;HepanUser&gt; userList = hepanUserService.selectVaguely(username, post);<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ResponseEntity</span>&lt;&gt;(userList, HttpStatus.OK);<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>entity包HepanUser类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.example.mysql.entity;<br><br><span class="hljs-keyword">import</span> lombok.Getter;<br><span class="hljs-keyword">import</span> lombok.Setter;<br><br><span class="hljs-keyword">import</span> java.util.Date;<br><br><span class="hljs-meta">@Getter</span><br><span class="hljs-meta">@Setter</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HepanUser</span> &#123;<br>    <span class="hljs-keyword">private</span> Integer id;<br>    <span class="hljs-keyword">private</span> String username;<br>    <span class="hljs-keyword">private</span> String post;<br>    <span class="hljs-keyword">private</span> Date date;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">sb</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();<br>        sb.append(<span class="hljs-string">&quot;id: &quot;</span>).append(id).append(<span class="hljs-string">&quot;\n&quot;</span>);<br>        sb.append(<span class="hljs-string">&quot;username: &quot;</span>).append(username).append(<span class="hljs-string">&quot;\n&quot;</span>);<br>        sb.append(<span class="hljs-string">&quot;post: &quot;</span>).append(post).append(<span class="hljs-string">&quot;\n&quot;</span>);<br>        sb.append(<span class="hljs-string">&quot;date: &quot;</span>).append(date).append(<span class="hljs-string">&quot;\n&quot;</span>);<br>        <span class="hljs-keyword">return</span> sb.toString();<br>    &#125;<br><br>&#125;<br><br><br></code></pre></td></tr></table></figure><p>service包HepanUserService类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.example.mysql.service;<br><br><span class="hljs-keyword">import</span> com.example.mysql.entity.HepanUser;<br><span class="hljs-keyword">import</span> com.example.mysql.mapper.HepanUserMapper;<br><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;<br><span class="hljs-keyword">import</span> org.springframework.stereotype.Service;<br><br><span class="hljs-keyword">import</span> java.util.Date;<br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-meta">@Service</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HepanUserService</span> &#123;<br>    <span class="hljs-meta">@Autowired</span><br>    HepanUserMapper hepanUserMapper;<br><br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">add</span><span class="hljs-params">(HepanUser user)</span> &#123;<br>        <span class="hljs-type">Date</span> <span class="hljs-variable">currentDate</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();<br>        hepanUserMapper.insert(user, currentDate);<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">delete</span><span class="hljs-params">(Integer id)</span> &#123;<br>        hepanUserMapper.delete(id);<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">update</span><span class="hljs-params">(HepanUser user)</span> &#123;<br>        <span class="hljs-type">Date</span> <span class="hljs-variable">currentDate</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();<br>        hepanUserMapper.update(user, currentDate);<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> List&lt;HepanUser&gt; <span class="hljs-title function_">selectAll</span><span class="hljs-params">()</span> &#123;<br>        List&lt;HepanUser&gt; list = hepanUserMapper.selectAll();<br>        <span class="hljs-keyword">return</span> list;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> HepanUser <span class="hljs-title function_">selectById</span><span class="hljs-params">(Integer id)</span> &#123;<br>        <span class="hljs-keyword">return</span> hepanUserMapper.selectById(id);<br><br>    &#125;<br><br>    <span class="hljs-keyword">public</span> List&lt;HepanUser&gt; <span class="hljs-title function_">selectByName</span><span class="hljs-params">(String name)</span> &#123;<br>        <span class="hljs-keyword">return</span> hepanUserMapper.selectByName(name);<br><br>    &#125;<br><br>    <span class="hljs-keyword">public</span> List&lt;HepanUser&gt; <span class="hljs-title function_">selectByMore</span><span class="hljs-params">(String username, String post)</span> &#123;<br>        <span class="hljs-keyword">return</span> hepanUserMapper.selectByMore(username, post);<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> List&lt;HepanUser&gt; <span class="hljs-title function_">selectVaguely</span><span class="hljs-params">(String username, String post)</span> &#123;<br>        <span class="hljs-keyword">return</span> hepanUserMapper.selectVaguely(username, post);<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>mapper包HepanUserMapper类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.example.mysql.mapper;<br><br><span class="hljs-keyword">import</span> com.example.mysql.entity.HepanUser;<br><span class="hljs-keyword">import</span> org.apache.ibatis.annotations.*;<br><br><span class="hljs-keyword">import</span> java.util.Date;<br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-meta">@Mapper</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">HepanUserMapper</span> &#123;<br><br><br>    <span class="hljs-meta">@Insert(&quot;insert into `hepanuser`(username,post,date) values(#&#123;user.username&#125;,#&#123;user.post&#125;,#&#123;date&#125;)&quot;)</span><br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">insert</span><span class="hljs-params">(HepanUser user, Date date)</span>;<br><br>    <span class="hljs-meta">@Delete(&quot;DELETE FROM `hepanuser` WHERE id=#&#123;id&#125;&quot;)</span><br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">delete</span><span class="hljs-params">(Integer id)</span>;<br><br>    <span class="hljs-meta">@Update(&quot;update `hepanuser` set username=#&#123;user.username&#125;,post=#&#123;user.post&#125;,date=#&#123;date&#125; where id=#&#123;user.id&#125;&quot;)</span><br>    <span class="hljs-keyword">void</span> <span class="hljs-title function_">update</span><span class="hljs-params">(HepanUser user, Date date)</span>;<br><br>    <span class="hljs-meta">@Select(&quot;select * from `hepanuser` order by date desc&quot;)</span><br>    List&lt;HepanUser&gt; <span class="hljs-title function_">selectAll</span><span class="hljs-params">()</span>;<br><br>    <span class="hljs-meta">@Select(&quot;select * from `hepanuser` where id=#&#123;id&#125;&quot;)</span><br>    HepanUser <span class="hljs-title function_">selectById</span><span class="hljs-params">(Integer id)</span>;<br><br>    <span class="hljs-meta">@Select(&quot;select * from `hepanuser` where username=#&#123;name&#125;&quot;)</span><br>    List&lt;HepanUser&gt; <span class="hljs-title function_">selectByName</span><span class="hljs-params">(String name)</span>;<br><br>    <span class="hljs-meta">@Select(&quot;select * from `hepanuser` where username=#&#123;username&#125; and post=#&#123;post&#125; order by date desc&quot;)</span><br>    List&lt;HepanUser&gt; <span class="hljs-title function_">selectByMore</span><span class="hljs-params">(<span class="hljs-meta">@Param(&quot;username&quot;)</span> String username, <span class="hljs-meta">@Param(&quot;post&quot;)</span> String post)</span>;<br><br>    <span class="hljs-meta">@Select(&quot;select * from `hepanuser` where username like concat(&#x27;%&#x27;,#&#123;username&#125;,&#x27;%&#x27;) and post like concat(&#x27;%&#x27;,#&#123;post&#125;,&#x27;%&#x27;) order by date desc&quot;)</span><br>    List&lt;HepanUser&gt; <span class="hljs-title function_">selectVaguely</span><span class="hljs-params">(String username, String post)</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><h3 id="3-4思考题"><a href="#3-4思考题" class="headerlink" title="3.4思考题"></a>3.4思考题</h3><ol><li>RESTful API使用标准的HTTP方法来执行操作，益于理解和使用；同时每个请求都包含了处理请求所需要的所有信息，提高了可拓展性，降低了服务器资源的使用。  </li><li>域名是用户访问网站时的文本标识，<a href="http://www.baidu.com;ip即internet/">www.baidu.com；ip即Internet</a> Protocol，是互联网上每个计算机或设备的唯一数字标识，例如我的计算机主系统在无线局域网的ipv4地址为192.168.137.1，由于ipv4的地址空间无法满足增长的设备数量，所以支持更多设备的ipv6正逐渐取代ipv4；端口是设备上运行的特定应用程序的标识符，通常是十六位的整数，例如默认情况下http端口为80，https为443。<br>当使用域名访问网站或服务时，DNS将域名解析为相应的IP地址，然后数据包通过IP地址的特定端口路由到应用程序。这三者共同构成了互联网通信的基础。</li><li>HTTP是用于传输超文本数据的协议，以明文形式传输；HTTPS是HTTP的安全版本，数据在传输过程中经过加密。HTTP和HTTPS的区别主要在于安全性；<br>还有HTTP不提供数据完整性验证，而HTTPS提供，这可以检测到数据在传输过程中是否被篡改；<br>默认端口方面HTTP默认端口为80，而HTTPS默认端口为443</li><li>结构：请求行（request line）-请求头部（header）-空行-请求正文（request body）<br>请求行：请求的方法（GET、POST等）&#x2F;url&#x2F;http协议版本<br>请求头：通常以键值对形式组织，包含关于请求的相关信息，如User-Agent、Accept等<br>空行：用于分隔头部和正文<br>请求正文：包含请求的数据，通常用于POST请求或其他需要在请求中传递数据的请求  </li><li>四次挥手指的是TCP链接关闭时的四个步骤，用于确保数据的可靠传输和上方的链接正常关闭。<br>第一次：需要关闭连接的一方发送一个TCP报文，包含FIN标志位，表示要求关闭连接，发送后该方进入FIN-WAIT-1状态。<br>第二次：被动关闭方收到含FIN的报文后发送一个ACK作为响应，然后进入CLOSE-WAIT状态，此时仍然可以向主动关闭方发送未发送完的数据。<br>第三次：被动关闭方完成了数据的发送后，发出一个FIN报文，要求关闭连接，然后进入LAST-ACK状态。<br>第四次：主动关闭方收到被动关闭方的FIN报文后，发送一个ACK报文，表示确认，被动关闭方收到后立刻关闭连接，主动关闭方进入TIME-WAIT状态，一段时间后关闭连接，确保网络中的延迟数据包都接收完。 ps:如果被动关闭方没有接收到第四次挥手的ACK报文，会再次发送FIN报文，以确保在网络信道不稳定时可靠地断开连接。<br>四次挥手可以确保数据的完整性，确保连接关闭后不会有潜在的数据包的干扰。</li><li>WebSocket协议是一种用于在客户端和服务器之间建立持久性全双工连接的通信协议。它的出现是为了解决http协议存在的一些限制，如客户端必须发起请求才能收到服务器的响应，WebSocket允许双方建立一个持久且可以双向传输的连接，且可以通过加密来提高数据的安全性。这些减少了频繁创建和关闭连接的性能开销，使应用程序的交互更加实时。但是WebSocket也存在部署的复杂性和兼容性问题。<br>应用方面，WebSocket比HTTP更加适合于需要实时通信的程序，比如网页游戏、视频通话等，而HTTPS更加适合于简单的静态内容传输，如资料的查询。</li></ol><h3 id="3-5文件接收"><a href="#3-5文件接收" class="headerlink" title="3.5文件接收"></a>3.5文件接收</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.example.restful_api.Controller;<br><br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.PostMapping;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RequestParam;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RestController;<br><span class="hljs-keyword">import</span> org.springframework.web.multipart.MultipartFile;<br><br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.nio.file.Files;<br><span class="hljs-keyword">import</span> java.nio.file.Paths;<br><span class="hljs-meta">@RestController</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GetFile</span> &#123;<br>    <span class="hljs-meta">@PostMapping(&quot;upload&quot;)</span><br>    <span class="hljs-comment">//将请求中的名为“file”的参数传递到MultiparFile对象上</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getFile</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam(&quot;file&quot;)</span> MultipartFile file)</span> &#123;<br><br>        <span class="hljs-keyword">if</span> (!file.isEmpty()) &#123;<br>            <span class="hljs-keyword">try</span> &#123;<br>                <span class="hljs-comment">//限定文件格式为png、jpg</span><br>                <span class="hljs-type">String</span> <span class="hljs-variable">originalFilename</span> <span class="hljs-operator">=</span> file.getOriginalFilename();<br>                <span class="hljs-keyword">if</span>(originalFilename.toLowerCase().endsWith(<span class="hljs-string">&quot;.png&quot;</span>)||originalFilename.toLowerCase().endsWith(<span class="hljs-string">&quot;.jpg&quot;</span>))&#123;<br>                <span class="hljs-comment">//限制文件大小在200MB</span><br>                <span class="hljs-keyword">if</span> (file.getSize() &lt;= <span class="hljs-number">200</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>) &#123;<br>                    <span class="hljs-comment">//将文件读取到字节组中</span><br>                    <span class="hljs-type">byte</span>[] bytes = file.getBytes();<br>                    <span class="hljs-comment">// 将图片数据保存到指定的目录中,并用原文件名作为文件名</span><br>                    Files.write(Paths.get(<span class="hljs-string">&quot;D:\\HuaweiMoveData\\Users\\86191\\Desktop\\后端笔试&quot;</span>, file.getOriginalFilename()), bytes);<br>                    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;redirect:/success&quot;</span>;<br>                &#125;<br>                <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Larger than 200MB&quot;</span>;<br>                &#125;<br>                <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Only .png files are allowed&quot;</span>;<br>            &#125; <span class="hljs-keyword">catch</span> (IOException e) &#123;<br>                e.printStackTrace();<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;redirect:/failure&quot;</span>;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p><img src="/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202023-10-21%20161838.png" alt="Alt text"><br><img src="/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202023-10-21%20161918.png" alt="Alt text"></p><h2 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h2><h3 id="4-2数据库基础"><a href="#4-2数据库基础" class="headerlink" title="4.2数据库基础"></a>4.2数据库基础</h3><p><img src="/Capture_20231021_172901.jpg" alt="Alt text"><br>学生表：学号、姓名、性别、班级号；主键：学号<br>班级表：班级号、班级名、人数；主键：班级号<br>老师表：教师编号、姓名、性别、学科；主键：编号<br>老师班级表：学科、教师编号、班级号；主键：班级号、教师编号  </p><h3 id="4-3操作数据库"><a href="#4-3操作数据库" class="headerlink" title="4.3操作数据库"></a>4.3操作数据库</h3><p><img src="/image-7.png" alt="Alt text"><br>表的创建、数据填写</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-comment">-- 创建学生表</span><br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> Students (<br>    StudentID <span class="hljs-type">INT</span> <span class="hljs-keyword">PRIMARY</span> KEY,<br>    Name <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">255</span>),<br>    Sex <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">10</span>),<br>    ClassID <span class="hljs-type">INT</span>,<br>    <span class="hljs-keyword">FOREIGN</span> KEY (ClassID) <span class="hljs-keyword">REFERENCES</span> Classes(ClassID)<br>);<br><br><span class="hljs-comment">-- 创建班级表</span><br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> Classes (<br>    ClassID <span class="hljs-type">INT</span> <span class="hljs-keyword">PRIMARY</span> KEY,<br>    ClassName <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">255</span>),<br>    NumberOfStudents <span class="hljs-type">INT</span><br>);<br><br><span class="hljs-comment">-- 创建老师表</span><br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> Teachers (<br>    TeacherID <span class="hljs-type">INT</span> <span class="hljs-keyword">PRIMARY</span> KEY,<br>    Name <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">255</span>),<br>    Sex <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">10</span>),<br>    Subject <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">255</span>)<br>);<br><br><span class="hljs-comment">-- 创建老师班级表</span><br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> TeacherClasses (<br>    TeacherID <span class="hljs-type">INT</span>,<br>    ClassID <span class="hljs-type">INT</span>,<br>    Subject <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">255</span>),<br>    <span class="hljs-keyword">PRIMARY</span> KEY (TeacherID, ClassID),<br>    <span class="hljs-keyword">FOREIGN</span> KEY (TeacherID) <span class="hljs-keyword">REFERENCES</span> Teachers(TeacherID),<br>    <span class="hljs-keyword">FOREIGN</span> KEY (ClassID) <span class="hljs-keyword">REFERENCES</span> Classes(ClassID)<br>);<br><br><span class="hljs-comment">-- 增</span><br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> classes <span class="hljs-keyword">values</span> (<span class="hljs-number">1</span>,<span class="hljs-string">&#x27;一班&#x27;</span>,<span class="hljs-number">4</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> classes <span class="hljs-keyword">values</span> (<span class="hljs-number">2</span>,<span class="hljs-string">&#x27;二班&#x27;</span>,<span class="hljs-number">5</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> classes <span class="hljs-keyword">values</span> (<span class="hljs-number">3</span>,<span class="hljs-string">&#x27;三班&#x27;</span>,<span class="hljs-number">6</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> classes <span class="hljs-keyword">values</span> (<span class="hljs-number">4</span>,<span class="hljs-string">&#x27;四班&#x27;</span>,<span class="hljs-number">4</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> classes <span class="hljs-keyword">values</span> (<span class="hljs-number">5</span>,<span class="hljs-string">&#x27;五班&#x27;</span>,<span class="hljs-number">5</span>);<br><br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> Students <span class="hljs-keyword">values</span>(<span class="hljs-number">1</span>,<span class="hljs-string">&#x27;颗粒&#x27;</span>,<span class="hljs-string">&#x27;f&#x27;</span>,<span class="hljs-number">2</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> Students <span class="hljs-keyword">values</span>(<span class="hljs-number">2</span>,<span class="hljs-string">&#x27;有啦&#x27;</span>,<span class="hljs-string">&#x27;f&#x27;</span>,<span class="hljs-number">2</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> Students <span class="hljs-keyword">values</span>(<span class="hljs-number">3</span>,<span class="hljs-string">&#x27;胡桃&#x27;</span>,<span class="hljs-string">&#x27;f&#x27;</span>,<span class="hljs-number">2</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> Students <span class="hljs-keyword">values</span>(<span class="hljs-number">4</span>,<span class="hljs-string">&#x27;雷电将军&#x27;</span>,<span class="hljs-string">&#x27;f&#x27;</span>,<span class="hljs-number">1</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> Students <span class="hljs-keyword">values</span>(<span class="hljs-number">5</span>,<span class="hljs-string">&#x27;审理零花&#x27;</span>,<span class="hljs-string">&#x27;f&#x27;</span>,<span class="hljs-number">1</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> Students <span class="hljs-keyword">values</span>(<span class="hljs-number">6</span>,<span class="hljs-string">&#x27;小工&#x27;</span>,<span class="hljs-string">&#x27;f&#x27;</span>,<span class="hljs-number">3</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> Students <span class="hljs-keyword">values</span>(<span class="hljs-number">7</span>,<span class="hljs-string">&#x27;干预&#x27;</span>,<span class="hljs-string">&#x27;f&#x27;</span>,<span class="hljs-number">4</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> Students <span class="hljs-keyword">values</span>(<span class="hljs-number">8</span>,<span class="hljs-string">&#x27;审核&#x27;</span>,<span class="hljs-string">&#x27;f&#x27;</span>,<span class="hljs-number">3</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> Students <span class="hljs-keyword">values</span>(<span class="hljs-number">9</span>,<span class="hljs-string">&#x27;七七&#x27;</span>,<span class="hljs-string">&#x27;f&#x27;</span>,<span class="hljs-number">4</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> Students <span class="hljs-keyword">values</span>(<span class="hljs-number">10</span>,<span class="hljs-string">&#x27;客情&#x27;</span>,<span class="hljs-string">&#x27;f&#x27;</span>,<span class="hljs-number">5</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> Students <span class="hljs-keyword">values</span>(<span class="hljs-number">11</span>,<span class="hljs-string">&#x27;琴&#x27;</span>,<span class="hljs-string">&#x27;f&#x27;</span>,<span class="hljs-number">4</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> Students <span class="hljs-keyword">values</span>(<span class="hljs-number">12</span>,<span class="hljs-string">&#x27;莫娜&#x27;</span>,<span class="hljs-string">&#x27;f&#x27;</span>,<span class="hljs-number">5</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> Students <span class="hljs-keyword">values</span>(<span class="hljs-number">13</span>,<span class="hljs-string">&#x27;心海&#x27;</span>,<span class="hljs-string">&#x27;f&#x27;</span>,<span class="hljs-number">1</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> Students <span class="hljs-keyword">values</span>(<span class="hljs-number">14</span>,<span class="hljs-string">&#x27;钟离&#x27;</span>,<span class="hljs-string">&#x27;m&#x27;</span>,<span class="hljs-number">2</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> Students <span class="hljs-keyword">values</span>(<span class="hljs-number">15</span>,<span class="hljs-string">&#x27;那维莱特&#x27;</span>,<span class="hljs-string">&#x27;m&#x27;</span>,<span class="hljs-number">5</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> Students <span class="hljs-keyword">values</span>(<span class="hljs-number">16</span>,<span class="hljs-string">&#x27;万叶&#x27;</span>,<span class="hljs-string">&#x27;m&#x27;</span>,<span class="hljs-number">2</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> Students <span class="hljs-keyword">values</span>(<span class="hljs-number">17</span>,<span class="hljs-string">&#x27;小红&#x27;</span>,<span class="hljs-string">&#x27;m&#x27;</span>,<span class="hljs-number">4</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> Students <span class="hljs-keyword">values</span>(<span class="hljs-number">18</span>,<span class="hljs-string">&#x27;小橙&#x27;</span>,<span class="hljs-string">&#x27;m&#x27;</span>,<span class="hljs-number">5</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> Students <span class="hljs-keyword">values</span>(<span class="hljs-number">19</span>,<span class="hljs-string">&#x27;小黄&#x27;</span>,<span class="hljs-string">&#x27;m&#x27;</span>,<span class="hljs-number">3</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> Students <span class="hljs-keyword">values</span>(<span class="hljs-number">20</span>,<span class="hljs-string">&#x27;小绿&#x27;</span>,<span class="hljs-string">&#x27;m&#x27;</span>,<span class="hljs-number">3</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> Students <span class="hljs-keyword">values</span>(<span class="hljs-number">21</span>,<span class="hljs-string">&#x27;小青&#x27;</span>,<span class="hljs-string">&#x27;m&#x27;</span>,<span class="hljs-number">3</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> Students <span class="hljs-keyword">values</span>(<span class="hljs-number">22</span>,<span class="hljs-string">&#x27;小蓝&#x27;</span>,<span class="hljs-string">&#x27;m&#x27;</span>,<span class="hljs-number">3</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> Students <span class="hljs-keyword">values</span>(<span class="hljs-number">23</span>,<span class="hljs-string">&#x27;小紫&#x27;</span>,<span class="hljs-string">&#x27;m&#x27;</span>,<span class="hljs-number">5</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> Students <span class="hljs-keyword">values</span>(<span class="hljs-number">24</span>,<span class="hljs-string">&#x27;小康&#x27;</span>,<span class="hljs-string">&#x27;m&#x27;</span>,<span class="hljs-number">1</span>);<br><br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> Teachers <span class="hljs-keyword">values</span>(<span class="hljs-number">1</span>,<span class="hljs-string">&#x27;刘老师&#x27;</span>,<span class="hljs-string">&#x27;m&#x27;</span>,<span class="hljs-string">&#x27;数学&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> Teachers <span class="hljs-keyword">values</span>(<span class="hljs-number">2</span>,<span class="hljs-string">&#x27;王老师&#x27;</span>,<span class="hljs-string">&#x27;m&#x27;</span>,<span class="hljs-string">&#x27;语文&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> Teachers <span class="hljs-keyword">values</span>(<span class="hljs-number">3</span>,<span class="hljs-string">&#x27;廖老师&#x27;</span>,<span class="hljs-string">&#x27;f&#x27;</span>,<span class="hljs-string">&#x27;英语&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> Teachers <span class="hljs-keyword">values</span>(<span class="hljs-number">4</span>,<span class="hljs-string">&#x27;谢老师&#x27;</span>,<span class="hljs-string">&#x27;f&#x27;</span>,<span class="hljs-string">&#x27;语文&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> Teachers <span class="hljs-keyword">values</span>(<span class="hljs-number">5</span>,<span class="hljs-string">&#x27;李老师&#x27;</span>,<span class="hljs-string">&#x27;m&#x27;</span>,<span class="hljs-string">&#x27;英语&#x27;</span>);<br><br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> TeacherClasses <span class="hljs-keyword">values</span>(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-string">&#x27;数学&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> TeacherClasses <span class="hljs-keyword">values</span>(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-string">&#x27;数学&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> TeacherClasses <span class="hljs-keyword">values</span>(<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-string">&#x27;数学&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> TeacherClasses <span class="hljs-keyword">values</span>(<span class="hljs-number">1</span>,<span class="hljs-number">4</span>,<span class="hljs-string">&#x27;数学&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> TeacherClasses <span class="hljs-keyword">values</span>(<span class="hljs-number">1</span>,<span class="hljs-number">5</span>,<span class="hljs-string">&#x27;数学&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> TeacherClasses <span class="hljs-keyword">values</span>(<span class="hljs-number">3</span>,<span class="hljs-number">1</span>,<span class="hljs-string">&#x27;英语&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> TeacherClasses <span class="hljs-keyword">values</span>(<span class="hljs-number">3</span>,<span class="hljs-number">2</span>,<span class="hljs-string">&#x27;英语&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> TeacherClasses <span class="hljs-keyword">values</span>(<span class="hljs-number">3</span>,<span class="hljs-number">3</span>,<span class="hljs-string">&#x27;英语&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> TeacherClasses <span class="hljs-keyword">values</span>(<span class="hljs-number">5</span>,<span class="hljs-number">4</span>,<span class="hljs-string">&#x27;英语&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> TeacherClasses <span class="hljs-keyword">values</span>(<span class="hljs-number">5</span>,<span class="hljs-number">5</span>,<span class="hljs-string">&#x27;英语&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> TeacherClasses <span class="hljs-keyword">values</span>(<span class="hljs-number">2</span>,<span class="hljs-number">1</span>,<span class="hljs-string">&#x27;语文&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> TeacherClasses <span class="hljs-keyword">values</span>(<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-string">&#x27;语文&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> TeacherClasses <span class="hljs-keyword">values</span>(<span class="hljs-number">4</span>,<span class="hljs-number">3</span>,<span class="hljs-string">&#x27;语文&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> TeacherClasses <span class="hljs-keyword">values</span>(<span class="hljs-number">4</span>,<span class="hljs-number">4</span>,<span class="hljs-string">&#x27;语文&#x27;</span>);<br><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> TeacherClasses <span class="hljs-keyword">values</span>(<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-string">&#x27;语文&#x27;</span>);<br></code></pre></td></tr></table></figure><p>删：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SET</span> SQL_SAFE_UPDATES <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br><span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">FROM</span> Students<br><span class="hljs-keyword">WHERE</span> Name<span class="hljs-operator">=</span><span class="hljs-string">&#x27;小康&#x27;</span>;<br></code></pre></td></tr></table></figure><p>改(将小红的Sex改为f)</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">update</span> Students<br><span class="hljs-keyword">set</span> Sex<span class="hljs-operator">=</span><span class="hljs-string">&#x27;f&#x27;</span><br><span class="hljs-keyword">where</span> Name<span class="hljs-operator">=</span><span class="hljs-string">&#x27;小红&#x27;</span>;<br></code></pre></td></tr></table></figure><p>查（查找全部Students数据）</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> Students;<br></code></pre></td></tr></table></figure><p><img src="/image-5.png" alt="Alt text"><br>统计每个老师有多少学生：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> t.Name, <span class="hljs-built_in">COUNT</span>(s.StudentID) <span class="hljs-keyword">AS</span> StudentCount<br><span class="hljs-keyword">FROM</span> Teachers t<br><span class="hljs-keyword">JOIN</span> TeacherClasses tc <span class="hljs-keyword">ON</span> t.TeacherID <span class="hljs-operator">=</span> tc.TeacherID<br><span class="hljs-keyword">JOIN</span> Students s <span class="hljs-keyword">ON</span> tc.ClassID <span class="hljs-operator">=</span> s.ClassID<br><span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> t.TeacherID<br><span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> StudentCount <span class="hljs-keyword">DESC</span>;<br></code></pre></td></tr></table></figure><p>将teachserclasses和Teachers关联<br>将Students和teacherclasses关联<br>根据老师的id分组，分别统计每组的学生数<br>根据学生数降序排列<br>输出老师的name和学生数<br><img src="/image-6.png" alt="Alt text"></p><h3 id="4-4思考题"><a href="#4-4思考题" class="headerlink" title="4.4思考题"></a>4.4思考题</h3><p>ACID分别表示原子性、一致性、隔离性、持久性，这些是确保数据库操作可靠性和一致性的关键特性。<br>原子性Atomicity：事务中的每个操作都一个不可分割的工作单位，事务中的操作要么全部成功要么全部失败，每次对数据改动时，都将对应的undolog记录下来，如果某次操作异常，就会反向执行每次操作的undolog，让所以数据回到操作之前。<br>隔离性isolation：多个事务并行执行时，每个事务都被隔离开，不能相互干扰，分为写与写隔离和写与读隔离。<br>持久性durability:事务一旦成功提交就，结果就永久地保存在数据库中了。<br>一致性consistency：确保事务的执行前后，数据库的状态都是一致且稳定的。前三个特性可以说是为一致性服务的。</p><h3 id="4-5思考题"><a href="#4-5思考题" class="headerlink" title="4.5思考题"></a>4.5思考题</h3><p>数据表如下图：  </p><p>RBAC0:RBAC0是RABC的核心，定义了能构成RABC控制系统的最小的元素集合，由用户、角色、会话、许可四部分组成。用户和角色、角色和许可都是多对多的关系，用户和会话、会话和角色都是一对一的关系，当角色被指定给用户时，用户就拥有了改角色所包含的许可，用户要通过会话才能设置角色。<br>RABC1:是RABC的分层模型，建立在RABC0的基础上，在角色中引入了继承的概念。使用场景：分店的店长有访问自己分店财务数据的权限，老板有访问所有分店的财务数据的权限。<br>RABC2:是RABC的约束模型，建立在RABC0的基础上，加入了约束的概念，主要引入了静态职责分离SSD(Static Separation of Duty)和动态职责分离DSD(Dynamic Separation of Duty)。SSD是角色指派给用户阶段加入的，主要有：互斥角色（两个互斥角色只能有一个）、基数约束（用户拥有的角色权限和角色对应的用户数是有限的）、先决条件约束：（要高级角色必须先有低级角色），DSD是会话和角色之间的约束，可以动态约束用户拥有的角色，如一个用户有两个角色但只能激活一个。<br>使用场景：互斥角色：财务部的会计和审核；基数约束：CEO只能有一个，某人不能同时是COO和CFO；先决条件约束：要是豪华VIP得先是VIP；DSD：用户既有参赛者和评委身份只能用一个，三国杀抽多张武将只能选一个。<br>RABC3：是RABC1和RABC2的合集。</p><h2 id="5-后端应用"><a href="#5-后端应用" class="headerlink" title="5.后端应用"></a>5.后端应用</h2><h3 id="5-1实践题见3-4"><a href="#5-1实践题见3-4" class="headerlink" title="5.1实践题见3.4"></a>5.1实践题见3.4</h3><h3 id="5-2"><a href="#5-2" class="headerlink" title="5.2"></a>5.2</h3><p>JWT权限认证：用户登入时，生成一个JWT返回给客户端，在客户端的每个请求中包含JWT，服务端验证JWT的签名检查用户的权限声明（如角色标识）是否有权执行相应的操作，有权则执行操作，无权则返回信息告知用户。</p><h3 id="5-3"><a href="#5-3" class="headerlink" title="5.3"></a>5.3</h3><ol><li>利用数据库中主键的唯一性，适用于插入操作。</li><li>数据库乐观锁，在表中多加一个字段，作为版本标识，执行更新时不仅验证id还要验证版本，防止重复更新，确定是要更新的内容，使用于更新操作 。</li><li>防重Token，客户端先调用接口获取Token，服务端会生成一个Token串，将其作为key储存到Redis数据库中（设置过期时间），再将Token返回到客户端，客户端把Token存入请求的Header中，发送请求，服务端根据请求中的Token到数据库中查找对应的key是否存在，存在且value匹配则删除然后执行业务，否则返回错误信息，适用于插入、更新、删除。</li></ol>]]></content>
    
    
    
    <tags>
      
      <tag>记录</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java</title>
    <link href="/2023/11/10/Java/"/>
    <url>/2023/11/10/Java/</url>
    
    <content type="html"><![CDATA[<h2 id="Head-first-java学习"><a href="#Head-first-java学习" class="headerlink" title="Head first java学习"></a>Head first java学习</h2><h3 id="Java的程序结构"><a href="#Java的程序结构" class="headerlink" title="Java的程序结构"></a>Java的程序结构</h3><ul><li>类存在于源文件里，方法存在于类里，语句存在于方法中  </li><li>Java虚拟机启动执行时，会寻找在命令类所指定的类，然后锁定到main方法，每个Java程序都至少有一个类以及一个main()，每个应用程序只有一个main函数。</li><li>要执行程序就代表要命令JVM去加载这个类，开始执行他的main()，直到运行到main的所有程序代码结束。</li><li>真正被执行的是类。</li></ul><h4 id="循环结构"><a href="#循环结构" class="headerlink" title="循环结构"></a>循环结构</h4><ul><li>Java不能直接用整数类型测试，例如：<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span> x=<span class="hljs-number">1</span>;<br><span class="hljs-keyword">while</span>(x)&#123;&#125;;<br></code></pre></td></tr></table></figure>Java中integer和Boolean两种类型并不相容，，这么写在Java中是不行的，但是在其他一些语言中可以。</li></ul><h4 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h4><ul><li>字符串中不能直接打出换行，需要使用换行符\n，如果要直接打出换行要使用一对三重引号。</li></ul><h3 id="类与对象"><a href="#类与对象" class="headerlink" title="类与对象"></a>类与对象</h3><ul><li><p>对象本身已知的事物被称为：实例变量<br>对象可以执行的动作称为：方法</p></li><li><p>类是对象的蓝图；它会告诉虚拟机如何创建某种类型的对象，根据类创建出的对象都会有自己的示例变量。</p></li><li><p>创建对象时，它会被存放于被称为堆的内存区域中，这个区域是回收垃圾的堆（Garbage-Collectible Heap），Java根据对象的大小分配空间，当某个对象被JVM察觉到不会再使用到时，该对象就会被标记为可回收的，如果内存开始不足，垃圾收集器就会启动，回收空间。</p></li><li><p>庞大文件的处理方法：将所有文件包装进一句pkzip格式来存档的.jar文件，jar文件中有一个简单的文字格式文字文件，被称为manifest定义有jar中有哪一个文件带有启动程序的main方法。</p></li><li><p>boolean类型数据的位数由Java虚拟机来决定，char16bits，byte、short、int、long的位数为8bits到64bits。</p></li><li><p>小数类型的数据除非加上f，不然都当作double类型处理</p></li><li><h4 id="对象的声名与创建的三个步骤："><a href="#对象的声名与创建的三个步骤：" class="headerlink" title="对象的声名与创建的三个步骤："></a>对象的声名与创建的三个步骤：</h4><p>例：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">Dog myDog=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Dog</span>();<br></code></pre></td></tr></table></figure></li></ul><ol><li>声名引用变量（Dog myDog）:要求Java虚拟机分配空间给引用变量，并将此变量命名为myDog，此引用变量将被固定为Dog类型。</li><li>创建对象（new Dog（））：要求Java虚拟机分配堆空间给新建立的Dog对象。</li><li>连接对象和引用（&#x3D;）：将创建的Dog对象赋值给myDog这个引用。</li></ol><ul><li>对于任意一个Java虚拟机来说，所有的对象引用的大小都是一样的，但不同的Java虚拟机可能用不同的方式来表示引用，所以大小可能不相同。</li><li>当对象没有引用时，被作为垃圾收集器，内存不足时被回收。</li><li><h4 id="数组变量："><a href="#数组变量：" class="headerlink" title="数组变量："></a>数组变量：</h4>数组是一个对象，不论里面放的是primitive主数据类型还是引用变量，一旦数组被声名，就只能装入所声名类型的元素（除了byte元素可以放进int数组中）</li></ul><h4 id="tips"><a href="#tips" class="headerlink" title="tips:"></a>tips:</h4><ol><li>变量有两种：primitive主数据类型和引用类型</li><li>引用变量的值代表位于堆的对象的存取方法</li><li>primitive主数据类型变量值是该值的字节所表示的</li></ol><h3 id="第四章-对象的行为"><a href="#第四章-对象的行为" class="headerlink" title="第四章-对象的行为"></a>第四章-对象的行为</h3><ul><li>方法声名为有返回值就必须返回所声名类型的值，或是与声名类型兼容的值。（但是Java中未要求一定要处理返回的值）</li><li>Java是通过值传递的，也就是通过拷贝传递。当以x为参数传入方法中时，x字节组合会被拷贝并装进参数z中，再方法中改变z的值，x的值不会改变，也就是说传给z的只是一个拷贝。</li><li>方法只能返回单一的值</li><li>封装：指的是将数据（属性）和操作数据的方法（方法）捆绑在一起，并对外部隐藏对象的内部实现细节。封装的目的是为了保护对象的状态，防止外部直接访问对象的内部数据，只允许通过对象的公共接口（方法）来访问和操作数据。&#x2F;需要防止暴露出类的实例变量（即可通过圆点运算符来存取），例如可以在setter方法中对设定的值加以限制，退回不合理的值、直接抛出错误或作修改。</li><li>设计getter和简单设置值的setter的目的是防止以后需要对设置或返回的值加以限制，这样就可以只修改方法而不需要去修改其他部分的程序。</li><li>实例变量永远都会有默认值<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java">integers：<span class="hljs-number">0</span><br>floating points:<span class="hljs-number">0.0</span><br>booleans:<span class="hljs-literal">false</span><br>references:<span class="hljs-literal">null</span><br></code></pre></td></tr></table></figure></li><li>实例变量和局部变量：<br>示例变量声名在类中，而局部变量声名在方法中，局部变量在使用前必须要初始化。</li><li>变量的比较：<br>“&#x3D;&#x3D;”只用来比较两个变量的字节组合</li></ul><h4 id="第五章-超强力的方法"><a href="#第五章-超强力的方法" class="headerlink" title="第五章-超强力的方法"></a>第五章-超强力的方法</h4><ul><li>创建新的类时，通常需要写出：伪码、测试码、真实码</li><li>伪码描述要做什么事，而不是如何做</li><li>从Java5开始，Java就有成为加强版的for循环，它能够很容易地逐个运行数组或者其他集合的元素。</li></ul><h4 id="认识Java的API"><a href="#认识Java的API" class="headerlink" title="认识Java的API"></a>认识Java的API</h4><ul><li>ArrayList要保存primitive主类型需要把数据包装起来，在Java5以上的版本包装工作会自动进行。</li><li>比较ArrayList和一般数组：<br>一般数组在创建时需要指定大小<br>存放对象给一般数组时必须指定位置<br>一般数组使用特殊的语法<br>在Java5中，ArrayList是参数化的。如：<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">ArrayList&lt;String&gt;<br></code></pre></td></tr></table></figure></li></ul><h2 id="反射"><a href="#反射" class="headerlink" title="反射"></a>反射</h2><p>JAVA反射机制是在运行状态中，对于任意一个类，都能够知道这个类的所有属性和方法；对于任意一个对象，都能够调用它的任意一个方法和属性；这种动态获取的信息以及动态调用对象的方法的功能称为java语言的反射机制。<br>反射就是把Java类中的各种成分映射成一个个的Java对象。</p><h2 id="Class类"><a href="#Class类" class="headerlink" title="Class类"></a>Class类</h2><p>属于java.lang包，class类的实例表示正在运行的Java应用程序中的类和接口，每个加载到JVM中的类都会有一个对应的class对象，该对象包含有关类的结构和行为的信息</p><h2 id="JVM"><a href="#JVM" class="headerlink" title="JVM"></a>JVM</h2><h3 id="类加载机制"><a href="#类加载机制" class="headerlink" title="类加载机制"></a>类加载机制</h3><p>类的加载时JVM在运行时将类的字节码加载到内存中的过程，类加载是Java程序执行的一个关键步骤，涉及以下三个阶段：  </p><ol><li>加载（Loading）：类加载器查找并加载类的字节码，类加载器根据类的全名来定位并读取类文件，然后将其转换为内部表示，并储存在JVM的方法区（Method Area）。</li><li>链接（Linking）：类加载器将被加载的类合并到JVM的运行环境中，分为三个子阶段：<br>a. 验证（Verification）：确保被加载的类的字节码是有效且符合规范的。<br>b. 准备（Preparation）：为类的静态变量分配内存，并设置默认初始值。<br>c. 解析（Resolution）：将类、接口、字段和方法的符号引用解析为直接引用。  </li><li>初始化（Initialization）：执行类的初始化代码，包括静态变量的赋值和静态代码块的执行。<br>类的初始化是一个延迟的过程，只有在对类进行首次主动引用时才会触发，如以下情况：</li></ol><ul><li>创建类的示例</li><li>访问类或接口的静态变量或者对这些变量赋值</li><li>调用类的静态方法</li><li>使用反射的方式来创建类的示例、访问类的字段或调用类的方法</li><li>初始化一个类的子类</li><li>启动类的主方法，如果一个类在初始化的过程中遇到了异常，该类将被标记为初始化失败，后续对该类的引用将触发初始化异常。</li></ul>]]></content>
    
    
    <categories>
      
      <category>语言学习</category>
      
    </categories>
    
    
    <tags>
      
      <tag>java</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
