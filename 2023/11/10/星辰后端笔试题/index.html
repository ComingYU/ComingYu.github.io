<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="星辰工作室后端笔试题2.语言基础2.3双向链表定义Node类 12345678910class Node&#123;    int data;    Node prev;&#x2F;&#x2F;储存前一个结点    Node next;&#x2F;&#x2F;储存后一个结点    public Node(int data)&#123;        this.data&#x3D;data;        this.prev&#x3D;null;">
<meta property="og:type" content="article">
<meta property="og:title" content="星辰工作室后端笔试题">
<meta property="og:url" content="http://example.com/2023/11/10/%E6%98%9F%E8%BE%B0%E5%90%8E%E7%AB%AF%E7%AC%94%E8%AF%95%E9%A2%98/index.html">
<meta property="og:site_name" content="ComingYu">
<meta property="og:description" content="星辰工作室后端笔试题2.语言基础2.3双向链表定义Node类 12345678910class Node&#123;    int data;    Node prev;&#x2F;&#x2F;储存前一个结点    Node next;&#x2F;&#x2F;储存后一个结点    public Node(int data)&#123;        this.data&#x3D;data;        this.prev&#x3D;null;">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/image.png">
<meta property="og:image" content="http://example.com/image-1.png">
<meta property="og:image" content="http://example.com/image-2.png">
<meta property="og:image" content="http://example.com/image-3.png">
<meta property="og:image" content="http://example.com/image-4.png">
<meta property="og:image" content="http://example.com/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202023-10-21%20161838.png">
<meta property="og:image" content="http://example.com/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202023-10-21%20161918.png">
<meta property="og:image" content="http://example.com/Capture_20231021_172901.jpg">
<meta property="og:image" content="http://example.com/image-7.png">
<meta property="og:image" content="http://example.com/image-5.png">
<meta property="og:image" content="http://example.com/image-6.png">
<meta property="article:published_time" content="2023-11-09T23:33:58.000Z">
<meta property="article:modified_time" content="2023-11-13T01:23:07.986Z">
<meta property="article:author" content="Mingyu Kang">
<meta property="article:tag" content="记录">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/image.png">

<link rel="canonical" href="http://example.com/2023/11/10/%E6%98%9F%E8%BE%B0%E5%90%8E%E7%AB%AF%E7%AC%94%E8%AF%95%E9%A2%98/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>星辰工作室后端笔试题 | ComingYu</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">ComingYu</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/11/10/%E6%98%9F%E8%BE%B0%E5%90%8E%E7%AB%AF%E7%AC%94%E8%AF%95%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Mingyu Kang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ComingYu">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          星辰工作室后端笔试题
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-11-10 07:33:58" itemprop="dateCreated datePublished" datetime="2023-11-10T07:33:58+08:00">2023-11-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-11-13 09:23:07" itemprop="dateModified" datetime="2023-11-13T09:23:07+08:00">2023-11-13</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="星辰工作室后端笔试题"><a href="#星辰工作室后端笔试题" class="headerlink" title="星辰工作室后端笔试题"></a>星辰工作室后端笔试题</h1><h2 id="2-语言基础"><a href="#2-语言基础" class="headerlink" title="2.语言基础"></a>2.语言基础</h2><h3 id="2-3双向链表"><a href="#2-3双向链表" class="headerlink" title="2.3双向链表"></a>2.3双向链表</h3><p>定义Node类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Node</span>&#123;</span><br><span class="line">    <span class="type">int</span> data;</span><br><span class="line">    Node prev;<span class="comment">//储存前一个结点</span></span><br><span class="line">    Node next;<span class="comment">//储存后一个结点</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Node</span><span class="params">(<span class="type">int</span> data)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.data=data;</span><br><span class="line">        <span class="built_in">this</span>.prev=<span class="literal">null</span>;</span><br><span class="line">        <span class="built_in">this</span>.next=<span class="literal">null</span>;</span><br><span class="line">    &#125;<span class="comment">//定义构造方法，创建对象时传入该结点的数据</span></span><br><span class="line">&#125;<span class="comment">//定义结点</span></span><br></pre></td></tr></table></figure>
<p>定义DoublyLinkedList类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">DoublyLinkedList</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Node head;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">DoublyLinkedList</span><span class="params">()</span>&#123;</span><br><span class="line">        head=<span class="literal">null</span>;</span><br><span class="line">    &#125;<span class="comment">//构造函数将head的引用设为空</span></span><br><span class="line">    <span class="comment">//在尾部增加结点</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">append</span><span class="params">(<span class="type">int</span> data)</span>&#123;</span><br><span class="line">        Node newNode=<span class="keyword">new</span> <span class="title class_">Node</span>(data);</span><br><span class="line">        <span class="keyword">if</span>(head==<span class="literal">null</span>)&#123;</span><br><span class="line">            head=newNode;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            Node current=head;</span><br><span class="line">            <span class="keyword">while</span>(current.next!=<span class="literal">null</span>)&#123;</span><br><span class="line">                current=current.next;</span><br><span class="line">            &#125;</span><br><span class="line">            current.next=newNode;</span><br><span class="line">            newNode.prev=current;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//遍历链表</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">printList</span><span class="params">()</span>&#123;</span><br><span class="line">        Node current=head;</span><br><span class="line">        <span class="keyword">while</span>(current!=<span class="literal">null</span>)&#123;</span><br><span class="line">            System.out.println(current.data+<span class="string">&quot; &quot;</span>);</span><br><span class="line">            current=current.next;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>可以通过DoublyLinkedList创建双向链表对象，调用appen方法增加结点，调用printList方法打印链表，可以满足小埋存放每天睡觉小时数的要求。</p>
<hr>
<h4 id="2-3-1复用"><a href="#2-3-1复用" class="headerlink" title="2.3.1复用"></a>2.3.1复用</h4><p>定义Node类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Node</span>&lt;T&gt;&#123;</span><br><span class="line">    T data;</span><br><span class="line">    Node prev;<span class="comment">//储存前一个结点</span></span><br><span class="line">    Node next;<span class="comment">//储存后一个结点</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Node</span><span class="params">(T data)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.data=data;</span><br><span class="line">        <span class="built_in">this</span>.prev=<span class="literal">null</span>;</span><br><span class="line">        <span class="built_in">this</span>.next=<span class="literal">null</span>;</span><br><span class="line">    &#125;<span class="comment">//定义构造方法，创建对象时传入该结点的数据</span></span><br><span class="line">&#125;<span class="comment">//定义结点</span></span><br></pre></td></tr></table></figure>
<p>定义DoublyLinkedList类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">DoublyLinkedList</span>&lt;T&gt;&#123;</span><br><span class="line">    <span class="keyword">private</span> Node head;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">DoublyLinkedList</span><span class="params">()</span>&#123;</span><br><span class="line">        head=<span class="literal">null</span>;</span><br><span class="line">    &#125;<span class="comment">//构造函数将head的引用设为空</span></span><br><span class="line">    <span class="comment">//在尾部增加结点</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">append</span><span class="params">(T data)</span>&#123;</span><br><span class="line">        Node newNode=<span class="keyword">new</span> <span class="title class_">Node</span>(data);</span><br><span class="line">        <span class="keyword">if</span>(head==<span class="literal">null</span>)&#123;</span><br><span class="line">            head=newNode;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            Node current=head;</span><br><span class="line">            <span class="keyword">while</span>(current.next!=<span class="literal">null</span>)&#123;</span><br><span class="line">                current=current.next;</span><br><span class="line">            &#125;</span><br><span class="line">            current.next=newNode;</span><br><span class="line">            newNode.prev=current;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//遍历链表</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">printList</span><span class="params">()</span>&#123;</span><br><span class="line">        Node current=head;</span><br><span class="line">        <span class="keyword">while</span>(current!=<span class="literal">null</span>)&#123;</span><br><span class="line">            System.out.println(current.data+<span class="string">&quot; &quot;</span>);</span><br><span class="line">            current=current.next;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>main方法运行示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        DoublyLinkedList dll=<span class="keyword">new</span> <span class="title class_">DoublyLinkedList</span>();</span><br><span class="line">        dll.append(<span class="string">&quot;这一天写代码写太晚没有睡觉~&quot;</span>);</span><br><span class="line">        dll.append(<span class="number">20</span>);</span><br><span class="line">        dll.append(<span class="literal">true</span>);</span><br><span class="line">        dll.printList();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">这一天写代码写太晚没有睡觉~ </span><br><span class="line"><span class="number">20</span> </span><br><span class="line"><span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h4 id="2-3-3"><a href="#2-3-3" class="headerlink" title="2.3.3"></a>2.3.3</h4><p>main函数：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        DoublyLinkedList dll=<span class="keyword">new</span> <span class="title class_">DoublyLinkedList</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">20</span>; i++) &#123;</span><br><span class="line">            dll.append(i);</span><br><span class="line">        &#125;<span class="comment">//在链表中添加20个结点</span></span><br><span class="line">        dll.circle(<span class="number">7</span>);<span class="comment">//在第七个结点成环</span></span><br><span class="line">        dll.findcircle();<span class="comment">//找出成环结点的位置，并消除环</span></span><br><span class="line">        System.out.println(<span class="string">&quot;链表的长度为：&quot;</span>+dll.length());<span class="comment">//测试是否可以遍历链表来输出链表的长度</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>DoublyLinkedList中的方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">DoublyLinkedList</span>&lt;T&gt;&#123;</span><br><span class="line">    <span class="keyword">private</span> Node head;</span><br><span class="line">    <span class="keyword">public</span> Node point;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">DoublyLinkedList</span><span class="params">()</span>&#123;</span><br><span class="line">        head=<span class="literal">null</span>;</span><br><span class="line">    &#125;<span class="comment">//构造函数将head的引用设为空</span></span><br><span class="line">    <span class="comment">//在尾部增加结点</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">append</span><span class="params">(T data)</span>&#123;</span><br><span class="line">        Node newNode=<span class="keyword">new</span> <span class="title class_">Node</span>(data);</span><br><span class="line">        <span class="keyword">if</span>(head==<span class="literal">null</span>)&#123;</span><br><span class="line">            head=newNode;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            Node current=head;</span><br><span class="line">            <span class="keyword">while</span>(current.next!=<span class="literal">null</span>)&#123;</span><br><span class="line">                current=current.next;</span><br><span class="line">            &#125;</span><br><span class="line">            current.next=newNode;</span><br><span class="line">            newNode.prev=current;</span><br><span class="line">            point=newNode;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//遍历链表</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">printList</span><span class="params">()</span>&#123;</span><br><span class="line">        Node current=head;</span><br><span class="line">        <span class="keyword">while</span>(current!=<span class="literal">null</span>)&#123;</span><br><span class="line">            System.out.println(current.data+<span class="string">&quot; &quot;</span>);</span><br><span class="line">            current=current.next;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">length</span><span class="params">()</span>&#123;</span><br><span class="line">        Node p=<span class="keyword">new</span> <span class="title class_">Node</span>(<span class="literal">null</span>);</span><br><span class="line">        <span class="keyword">if</span>(head==<span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">else</span> p=head;</span><br><span class="line">        <span class="type">int</span> i=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(p.next!=<span class="literal">null</span>)&#123;</span><br><span class="line">            p=p.next;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> i;</span><br><span class="line">    &#125;<span class="comment">//返回链表的长度</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">circle</span><span class="params">(<span class="type">int</span> p)</span>&#123;</span><br><span class="line">        Node point1;</span><br><span class="line">        <span class="keyword">if</span>(p&lt;<span class="built_in">this</span>.length())</span><br><span class="line">            point1=head;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; p; i++) &#123;</span><br><span class="line">            point1=point1.next;</span><br><span class="line">        &#125;</span><br><span class="line">        Node mark=point1;</span><br><span class="line">        <span class="keyword">while</span> (point1.next!=<span class="literal">null</span>)&#123;</span><br><span class="line">            point1=point1.next;</span><br><span class="line">        &#125;</span><br><span class="line">        point1.next=mark;</span><br><span class="line">    &#125;<span class="comment">//将链表的尾部接到第p个结点</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">findcircle</span><span class="params">()</span>&#123;</span><br><span class="line">        Node s1=head;</span><br><span class="line">        Node s2=head;</span><br><span class="line">        Node p=head;</span><br><span class="line">        <span class="type">int</span> i=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(s2!=<span class="literal">null</span>&amp;&amp;s2!=<span class="literal">null</span>)&#123;</span><br><span class="line">            s1=s1.next;</span><br><span class="line">            s2=s2.next.next;</span><br><span class="line">            <span class="keyword">if</span>(s1==s2) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//用s1和s2两个结点，s1每次前进一个结点，s2每次前进两个结点，两个结点将会在环中相遇，且此时s1还没有走完整个环</span></span><br><span class="line">        <span class="comment">//设头结点到成环结点s的长度为x，s到相遇的结点的距离为y，相遇结点到s的距离为z</span></span><br><span class="line">        <span class="comment">//则有2*(x+y)=x+y+n*(y+z),化简为x=(n-1)*(y+z)+z,可知将s1置于头结点，s1和s2同时逐个遍历，当s1到达s时，s2也到达</span></span><br><span class="line">        s1=head;</span><br><span class="line">        <span class="keyword">while</span>(s1!=s2)&#123;</span><br><span class="line">            s1=s1.next;</span><br><span class="line">            s2=s2.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (p!=s1)&#123;</span><br><span class="line">            p=p.next;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;成环发生在第&quot;</span>+i+<span class="string">&quot;个结点&quot;</span>);</span><br><span class="line">        <span class="keyword">while</span> (p.next!=s1)&#123;</span><br><span class="line">            p=p.next;</span><br><span class="line">        &#125;</span><br><span class="line">        p.next=<span class="literal">null</span>;</span><br><span class="line">    &#125;<span class="comment">//找出链表成环的位置，并消除环</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>运行结果</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">成环发生在第<span class="number">7</span>个结点</span><br><span class="line">链表的长度为：<span class="number">20</span></span><br><span class="line"></span><br><span class="line">Process finished with exit code <span class="number">0</span></span><br></pre></td></tr></table></figure>
<p>尝试过多个数据，该findcircle方法可以解决链表尾部成环的问题</p>
<h3 id="2-4实践题-算法"><a href="#2-4实践题-算法" class="headerlink" title="2.4实践题-算法"></a>2.4实践题-算法</h3><p>该题的涉及到背包问题，使用动态规划的思路来解决，逐个增加背包的体积和炸弹的种类，依次找到每种组合下的最优解。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Keli</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="type">int</span> <span class="variable">N</span> <span class="operator">=</span> scanner.nextInt(); <span class="comment">// 炸弹种类数量</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">V</span> <span class="operator">=</span> scanner.nextInt(); <span class="comment">// 背包容量</span></span><br><span class="line">        <span class="type">int</span>[] s = <span class="keyword">new</span> <span class="title class_">int</span>[N]; <span class="comment">// 炸弹体积</span></span><br><span class="line">        <span class="type">int</span>[] w = <span class="keyword">new</span> <span class="title class_">int</span>[N]; <span class="comment">// 炸弹威力</span></span><br><span class="line">        <span class="type">int</span>[] num = <span class="keyword">new</span> <span class="title class_">int</span>[N]; <span class="comment">// 每种炸弹的数量限制</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; N; i++) &#123;</span><br><span class="line">            s[i] = scanner.nextInt();</span><br><span class="line">            w[i] = scanner.nextInt();</span><br><span class="line">            num[i] = scanner.nextInt();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">long</span> <span class="variable">startTime</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        <span class="type">int</span>[][] dp = <span class="keyword">new</span> <span class="title class_">int</span>[N + <span class="number">1</span>][V + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= N; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt;= V; j++) &#123;</span><br><span class="line">                dp[i][j] = dp[i - <span class="number">1</span>][j]; <span class="comment">// 初始化为上一行的值</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">1</span>; k &lt;= num[i - <span class="number">1</span>] &amp;&amp; k * s[i - <span class="number">1</span>] &lt;= j; k++) &#123;</span><br><span class="line">                    dp[i][j] = Math.max(dp[i][j], dp[i - <span class="number">1</span>][j - k * s[i - <span class="number">1</span>]] + k * w[i - <span class="number">1</span>]);</span><br><span class="line">                &#125;<span class="comment">//每增加一个炸弹都要考虑两种选择：不增加这个炸弹，或者空出体积放这个新炸弹，这两个选择中取总威力的最大值即为当前的最优解</span></span><br><span class="line">                <span class="comment">//同时还要考虑到不要超过炸弹的数量</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;最多能装下的蹦蹦炸弹威力为：&quot;</span> + dp[N][V]);</span><br><span class="line">        scanner.close();</span><br><span class="line">        <span class="type">long</span> endTime=System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">&quot;运行时间&quot;</span>+(endTime-startTime)+<span class="string">&quot;毫秒&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>运行结果为：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">4</span> <span class="number">5</span></span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span></span><br><span class="line"><span class="number">2</span> <span class="number">4</span> <span class="number">1</span></span><br><span class="line"><span class="number">3</span> <span class="number">4</span> <span class="number">3</span></span><br><span class="line"><span class="number">4</span> <span class="number">5</span> <span class="number">2</span></span><br><span class="line">最多能装下的蹦蹦炸弹威力为：<span class="number">10</span></span><br><span class="line">运行时间<span class="number">2</span>毫秒</span><br></pre></td></tr></table></figure>
<p>符合预期</p>
<h2 id="2-5思考题"><a href="#2-5思考题" class="headerlink" title="2.5思考题"></a>2.5思考题</h2><h3 id="2-5-1-常见的排序算法及其复杂度（以从小到大排序为例）"><a href="#2-5-1-常见的排序算法及其复杂度（以从小到大排序为例）" class="headerlink" title="2.5.1 常见的排序算法及其复杂度（以从小到大排序为例）"></a>2.5.1 常见的排序算法及其复杂度（以从小到大排序为例）</h3><ul>
<li>插入排序（时间：O(n^2);空间：O(1)）：<br>从第二个元素开始每个元素和前一个元素比较，若前一个数更大则该数后移，直到找到一个更小的数。</li>
<li>希尔排序（时间：O(n);空间：O(1)）<br>先选定一个小于序列长度的数gap作为增量，每隔gap的数为一组，对每组进行插入排序，完成后再选择一个更小的gap进行排序，当gap减小到1时，即为对整个序列插入排序，完成排序。希尔排序先将待排序的序列预排序，时其接近有序，最后再插入排序。</li>
<li>选择排序：（时间：O(n^2);空间：O(n^2)）<br>每次在序列中选择一个最小值和最大值，分别放在序列的开头和末尾，直到排完全部序列。</li>
<li>冒泡排序：（时间：O(n^2);空间：O(1)）<br>每次从序列的开头开始排每相邻的两个，每次排完都可以将最大的一个数排到最后确定位置，依次这样排完整个序列。</li>
<li>归并排序（时间：O(nlongn);空间：O(n)）<br>将序列从中间分成两部分，在将两部分分成四部分，直到分割成一个个的数据，再将这些数据两两比较归并到一起，直到归并成整个序列。</li>
<li>快速排序——三数取中（时间：O(nlongn);空间：O(longn)）<br>在序列的头尾分别设一个指针low和high，先提取出第一个数，此时low为空，检测不为空的high，大于枢纽值则high左移，小于则填到low的位置，high为空，依次排完整个序列，直到high和low重合，将枢纽值填入该位置，就可以得到两个子序列，再依次对每个子序列用同样的方法排序。</li>
</ul>
<hr>
<h3 id="2-5-2-语言特性"><a href="#2-5-2-语言特性" class="headerlink" title="2.5.2 语言特性"></a>2.5.2 语言特性</h3><ol>
<li>面向对象和面向过程的内涵和区别：<br>面向过程一般是为了解决当前的问题来设计函数，对于其他不同的问题一般是难以复用的；而面向过程则是考虑到未来的使用，设计不同的类，在类中设计方法，通过继承、多态等功能使得程序不仅对于当前情景有作用，日后面对其他有相同特点的问题时也可以复用一部分，提高开发的效率，同时面向对象的封装特性使得可以将数据和行为封装在对象的内部，可以更好地修改和维护。面向过程的编程会更加适合轻量的程序编写，面向过程则更适合复杂的系统如大型软件的开发。</li>
</ol>
<hr>
<ol start="2">
<li>Java 的拆箱和装箱过程以及其作用<br>拆箱是将包装类对象转换成基本数据类型的过程，装箱则是将基本数据类型转换成包装类对象的过程，1.5以后版本的Java中都实现了自动装箱和拆箱的功能，不需要手动创建包装类对象或是用velueof方法等。<br>作用：允许基本数据类型和Object类型的相互转换,可以通过这样的方法来使值类型适用于一些只能使用应用类型的场景，如集合类。</li>
</ol>
<hr>
<ol start="3">
<li>String 类型的设计思路<br>不可变性：一旦创建了String类的对象，其值就不能再更改，使得该类对象有这些优点：1.安全性：多个引用可以指向同一个对象，而不用担心其值会被修改；2.线程安全：可以被多个线程安全地共享，不需要额外的同步措施；3.缓存哈希码：哈希值可以在创建的时候就计算和储存，使得字符串在在哈希表等结构中的储存更加高效；4：提高了性能：可共享的字符串内容和创建时就计算和储存的哈希值，减少了内存的占用，提高了性能<br>字符串池：String类的对象通常被储存在字符串池中，以便共享相同内容的字符串，创建字符串字面量时，Java会先检查字符串池中是否有相同的字符串，存在则返回其引用，不存在则会创建新的字符串并放入池中。</li>
</ol>
<hr>
<ol start="4">
<li>JDK 8 版本中引入的 Lambda 表达式和函数编程的使用和实现<br>在  JDK8引入的lambda表达式1.使得代码更加的简洁，开发者可以用更少的代码来表示函数或匿名内部类的实例；2.使Java支持函数式编程范式，可以将函数作为参数或者返回值；3.代码的组织更加简单和值观；4.和Stream API配合使用，可以更容易地实现并行编程。<br>使用实例：<br>用Function接口将字符串转换成整型数据之后输出<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Function</span>&lt;T,R&gt; &#123;</span><br><span class="line">    R <span class="title function_">apply</span><span class="params">(T t)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.function.Function;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Lambda</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;R&gt;R <span class="title function_">typeConver</span><span class="params">(Function&lt;String,R&gt; function)</span>&#123;</span><br><span class="line">        String str=<span class="string">&quot;66666&quot;</span>;</span><br><span class="line">        R result=function.apply(str);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;<span class="comment">//定义typeConver方法，将String类型数据转换成泛型R</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Integer result=typeConver(<span class="keyword">new</span> <span class="title class_">Function</span>&lt;String,Integer&gt;()&#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> Integer <span class="title function_">apply</span><span class="params">(String s)</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> Integer.valueOf(s);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);<span class="comment">//用Function接口创建一个匿名内部类，并重写其中的抽象方法</span></span><br><span class="line">        System.out.println(result);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
lambda表达式对比<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.function.Function;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Lambda</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;R&gt;R <span class="title function_">typeConver</span><span class="params">(Function&lt;String,R&gt; function)</span>&#123;</span><br><span class="line">        String str=<span class="string">&quot;66666&quot;</span>;</span><br><span class="line">        R result=function.apply(str);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;<span class="comment">//定义typeConver方法，将String类型数据转换成泛型R</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Integer result=typeConver((String s)-&gt;&#123;</span><br><span class="line">            <span class="keyword">return</span> Integer.valueOf(s);</span><br><span class="line">        &#125;);<span class="comment">//利用lambda表达式，省去了直接创建匿名内部类的步骤，只需要写参数和函数体</span></span><br><span class="line">        System.out.println(result);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>输出：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">66666</span></span><br><span class="line"></span><br><span class="line">Process finished with exit code <span class="number">0</span></span><br></pre></td></tr></table></figure>
<p>可见lambda表达式简化了代码的书写，而且提高了代码的可读性  </p>
<hr>
<p>Stream流函数式编程实践（在两个集合中过滤出前三个名字为三个字的男演员和姓林的女演员且去除第一个，将两个流合并，并生成实例输出姓名）：  </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Stream;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Actor</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String Name;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Actor</span><span class="params">(String s)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.Name=s;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getname</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String s)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.Name=s;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Stream;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.Stream;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StreamDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        ArrayList&lt;String&gt; manList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;();</span><br><span class="line">        manList.add(<span class="string">&quot;周润发&quot;</span>);</span><br><span class="line">        manList.add(<span class="string">&quot;成龙&quot;</span>);</span><br><span class="line">        manList.add(<span class="string">&quot;刘德华&quot;</span>);</span><br><span class="line">        manList.add(<span class="string">&quot;吴京&quot;</span>);</span><br><span class="line">        manList.add(<span class="string">&quot;周星驰&quot;</span>);</span><br><span class="line">        manList.add(<span class="string">&quot;李连杰&quot;</span>);</span><br><span class="line">        ArrayList&lt;String&gt; womanList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;();</span><br><span class="line">        womanList.add(<span class="string">&quot;林心如&quot;</span>);</span><br><span class="line">        womanList.add(<span class="string">&quot;张曼玉&quot;</span>);</span><br><span class="line">        womanList.add(<span class="string">&quot;林青霞&quot;</span>);</span><br><span class="line">        womanList.add(<span class="string">&quot;柳岩&quot;</span>);</span><br><span class="line">        womanList.add(<span class="string">&quot;林志玲&quot;</span>);</span><br><span class="line">        womanList.add(<span class="string">&quot;王祖贤&quot;</span>);</span><br><span class="line">        Stream&lt;String&gt; manStream=manList.stream().filter(s-&gt;s.length()==<span class="number">3</span>).limit(<span class="number">3</span>);<span class="comment">//过滤前三个名字为三个字的男演员</span></span><br><span class="line">        Stream&lt;String&gt; womenStream=womanList.stream().filter(s-&gt;s.startsWith(<span class="string">&quot;林&quot;</span>)).skip(<span class="number">1</span>);<span class="comment">//过滤出姓林的女演员且略去第一个</span></span><br><span class="line">        Stream&lt;String&gt; all=Stream.concat(manStream,womenStream);<span class="comment">//合并两个流</span></span><br><span class="line">        all.map(Actor::<span class="keyword">new</span>).forEach(s-&gt; System.out.println(s.getname()));<span class="comment">//调用构造方法，输出每个实例的Name</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>可见lambda表达式配合Stream API可以很大程度上简化代码，提高代码的可读性，函数式编程也可以编写更易于维护和拓展的代码，更轻松地使用并行操作。  </p>
<hr>
<ol start="5">
<li>Java 中全限定名称相同的两个类的 Class 对象一定 equals() 吗?<br>不一定，两个“class”对象是否相同取决于它们的加载器是否相同，全限定名称相同的两个类对象若加载器不同那么也不会equal()<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 自定义类加载器</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CustomClassLoader1</span> <span class="keyword">extends</span> <span class="title class_">ClassLoader</span> &#123;</span><br><span class="line">    <span class="comment">// 实现自定义类加载逻辑</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CustomClassLoader2</span> <span class="keyword">extends</span> <span class="title class_">ClassLoader</span> &#123;</span><br><span class="line">    <span class="comment">// 实现自定义类加载逻辑</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ClassA</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ClassB</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ClassLoder</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException &#123;</span><br><span class="line">        <span class="comment">// 使用不同的类加载器加载同一个类</span></span><br><span class="line">        <span class="type">ClassLoader</span> <span class="variable">classLoader1</span> <span class="operator">=</span> ClassA.class.getClassLoader();</span><br><span class="line">        <span class="type">ClassLoader</span> <span class="variable">classLoader2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CustomClassLoader1</span>();</span><br><span class="line"></span><br><span class="line">        Class&lt;?&gt; class1 = classLoader1.loadClass(<span class="string">&quot;FuctionalInterface.Lambda&quot;</span>);</span><br><span class="line">        Class&lt;?&gt; class2 = classLoader2.loadClass(<span class="string">&quot;FuctionalInterface.Lambda&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(class1 == class2); <span class="comment">// 可能返回 false</span></span><br><span class="line">        System.out.println(class1.equals(class2)); <span class="comment">// 可能返回 false</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//尝试了一下好像不行呀</span></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h4 id="2-5-3集合"><a href="#2-5-3集合" class="headerlink" title="2.5.3集合"></a>2.5.3集合</h4><ol>
<li>请介绍一下 ArrayList 和 LinkedList 的区别<br>ArrayList的底层实现是数组，可以通过索引直接找到元素，遍历上的效率较高，当数组的空间不够时，会再开个原来1.5倍大的新数组，并将原来的数据储存到这个新数组中，这可能会浪费大量的内存，但是可以通过ensureCapacity方法来将容量设置到指定大小，或者通过trimToSize方法来将容量大小设置到当前含的元素的大小。<br>LinkedList的底层逻辑是双向链表，所以它不能像数组那样通过索引直接找到元素，相比于LinkedList来说再遍历上的性能较低，由于通过链表实现，LinkedList不需要像ArrayList那样1.5倍扩容，在增减元素上性能较好。<br>因此频繁查找和修改元素时，一般使用ArrayList；频繁增减元素时，一般使用LinkedList。  </li>
<li>请介绍一下 HashMap 的实现方式<br>HashMap是一种基于哈希表实现的数据结构，它使用一个数组来储存数据，当插入一个键值对是，HashMap会根据键的哈希值计算出在数组中的位置，然后将该键值对添加到相应的链表中，对键值对进行其他操作时，HashMap也会根据键的哈希值找到其在数组中的位置，然后在相应的链表中进行操作，Java8中，链表的长度大于8时会将链表转化为红黑树，以提高查找效率，当红黑树节点数小于6时，会将其转换为链表。</li>
</ol>
<hr>
<h4 id="并发"><a href="#并发" class="headerlink" title="并发"></a>并发</h4><ol>
<li>请介绍一下进程&#x2F;线程&#x2F;协程的区别<br>进程是操作系统中的独立执行单位，有独立的内存空间和资源，进程有较高的隔离性，不能直接共享内存，进程崩溃也不会对其他的进程产生直接的影响。<br>线程是进程内的执行单位，共享同一进程的内存和资源，线程之间可以更加轻松地通信，切换线程比切换进程要更加轻量级。<br>协程是一种轻量级的线程，不依赖于操作系统的进程或线程，由编程语言或库提供支持，通常在单个线程里执行。</li>
<li>   请介绍一下你对并发的理解, 以及一些保证线程安全的方法<br>并发是指在多核计算机或在多个计算机上同时执行多个任务的能力。并发的目的是让多个进程或线程在同一时间段内执行，同时有效地管理执行线程，以避免数据竞争等并发问题，提高程序的性能和响应性。<br>保证线程安全的方法：1.互斥锁：用于保证任何时候都只有一个线程可以访问共享资源，可以通过’synchronized’关键字来创建互斥锁；2.线程池：可以限制并发线程的数量，避免创建过多的线程。  </li>
<li>操作系统中线程的实现方式<br>线程在用户空间下实现（用户线程）（多对一）：所有的线程都在用户空间实现，在操作系统看来每个进程只有一个线程，；进行线程切换的速度要远快于在通过操作系统内核切换，同时程序员可以在用户空间实现自己的线程调度算法，当线程数量多时，也不会大量占据操作系统的空间；但是当进程中的一个线程阻塞（如等待输入）时会阻塞整个进程，或者一个线程长时间不释放CPU，会导致其他线程的u到cpu而持续等待。<br>线程在操作系统内核实现（内核线程）（一对一）：线程由操作系统内核直接支持和管理，提供了多线程的高度并发性和并行性，可以充分利用多核的处理器，但是线程的切换开销较大。<br>混合模式（多对多）：程序员可以自行决定使用多少用户线程和内核线程，结合了前两种方式的优点  </li>
<li>jvm中线程的实现方法<br>每个Java线程都可以由一个Java线程对象表示，这些对象由jvm管理，jvm的线程对象可以映射到内核线程或者用户线程（即上题说到的三种模型），这取决于jvm的具体实现，jvm负责线程的创建、销毁和调度已经线程同步和线程通信，提供了内置的同步机制，同时还允许开发人员调整线程池大小等。  </li>
<li>Java中synchronized关键字的作用和实现方式<br>作用:保证同一时刻只有一个线程可以执行某个方法或者某个代码块，保证一个线程的变化可以被其他的线程看到。<br>原理：每个线程进入同步代码块（即synchronized修饰的代码块）时，都会尝试获取对象的监视器锁，如果锁被其他线程占用，线程将进入阻塞状态，直到进入同步代码块的线程执行完毕或者调用wait()方法，锁被释放</li>
</ol>
<hr>
<h4 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h4><ol>
<li>为什么要有对异常的处理</li>
</ol>
<ul>
<li>可靠性：通过捕获和处理异常，程序可以在发生错误的时候做出正确的处理，而不会因为错误而导致程序崩溃不能运行  </li>
<li>有助于问题的诊断，可以从异常信息中了解到错误的类型，位置等信息  </li>
<li>兼容性：使得程序可以在不同的环境下更加健壮地运行，可以适用于不同的错误和异常情况</li>
<li>可读性：将错误处理代码和正常业务逻辑分开，提高代码的可读性，有助于代码的理解和维护</li>
</ul>
<ol start="2">
<li>异常的抛出和捕获方法<br>抛出：创建一个异常对象，并使用throw关键字来抛出，例如：<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>(<span class="string">&quot;error&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
运行结果<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Exception in thread <span class="string">&quot;main&quot;</span> java.lang.IllegalArgumentException: error</span><br><span class="line">	at Main.main(Main.java:<span class="number">3</span>)</span><br><span class="line">```  </span><br><span class="line">捕获：异常被抛出时，可以用<span class="keyword">try</span>-<span class="keyword">catch</span>来捕获和处理异常，<span class="keyword">try</span>包含可能引发异常的代码，<span class="keyword">catch</span>用于捕获和处理异常，可以在<span class="keyword">try</span>之后使用多个<span class="keyword">catch</span>来捕获不同的异常，来进行不同的处理，例如：</span><br><span class="line">```java</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        String s=<span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">int</span> length=s.length();</span><br><span class="line">            <span class="type">int</span> num=<span class="number">10</span>/<span class="number">0</span>;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ArithmeticException e) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;An error occurred: &quot;</span> + e.getMessage());</span><br><span class="line">        &#125;<span class="keyword">catch</span>(NullPointerException E)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;空引用&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
运行结果<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">空引用</span><br></pre></td></tr></table></figure>
代码中用到了两个catch，分别捕获算数异常和空引用异常，try包含的代码中，先抛出了空引用的异常，所以被第二个catch捕获并处理。  </li>
<li>try-catch-finally模块中finally的执行逻辑<br>finally包含的代码会在try和catch中的代码执行后无论是否发生异常都执行。finally通常用来进行资源的释放和清理工作，如在try中打开文件读取，无论是否发生异常都关闭文件。</li>
</ol>
<hr>
<h3 id="设计模式"><a href="#设计模式" class="headerlink" title="设计模式"></a>设计模式</h3><ol>
<li><p>对设计模式的理解<br>设计模式是人间开发人员在开发过程中面临的一般问题的解决方案；是项目迭代的过程中，为了实现一些功能，设计了一些方案，根据这些方案总结出的一些模式体系，并且这些体系被很多开发者接受使用。设计模式广泛地运用于大的项目中，让代码可以更容易被他人理解，保证代码的可靠性。  </p>
</li>
<li><p>单例模式，写一个线程安全的单例模式<br>单例模式属于设计模式中的创造型模式，定义是：保证一个类仅有一个实例，并提供一个访问它的全局访问点。单例模式可以减少内存的开销（如网站首页界面的缓存），避免对资源的多重占用（如文件的读写）<br>线程安全的单例模式</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.mysql.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">volatile</span> <span class="keyword">static</span> Singleton single;<span class="comment">//声名为volatile，确保多线程之间对single可见</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Singleton</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 私有构造函数</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title function_">getsingle</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (single == <span class="literal">null</span>) &#123;  <span class="comment">// 第一次检查</span></span><br><span class="line">            <span class="keyword">synchronized</span> (Singleton.class) &#123;</span><br><span class="line">                <span class="keyword">if</span> (single == <span class="literal">null</span>) &#123;  <span class="comment">// 第二次检查</span></span><br><span class="line">                    single = <span class="keyword">new</span> <span class="title class_">Singleton</span>();<span class="comment">//创建对象</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> single;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>生产者消费者模式是一种多线程设计模式，不属于经典的设计模式，用于解决多线程的环境下，生产者和消费者数据的协同问题。在生产者消费者模式中，生产者和消费者共享一个资源池（缓冲区），生产者线程负责生成数据或任务，并将它们放入资源池，消费者从资源池中获取数据或任务，并执行操作。生产者消费者模式有利于实现线程之间的协作和数据共享，确保数据的安全传递。<br>使用synchronized、wait、notify实现生产者消费者模式示例</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.mysql.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.TimeUnit;</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用 synchronized和wait、notify实现生产者和消费者</span></span><br><span class="line"><span class="comment">//1.定义资源类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyCacheResources1</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">0</span>;<span class="comment">//共享资源：生产和消费数字</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;<span class="comment">//资源池中实际存储的数据个数</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">capacity</span> <span class="operator">=</span> <span class="number">5</span>;<span class="comment">//资源池中允许存放的资源数目</span></span><br><span class="line"></span><br><span class="line">    <span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Object</span>();<span class="comment">//作为锁</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//生产方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">product</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        <span class="comment">//使用代码块，精确加锁，且synchronized会自动释放锁</span></span><br><span class="line">        <span class="keyword">synchronized</span> (obj) &#123;</span><br><span class="line">            <span class="comment">//当实际元素数量达到总容量是，生产阻塞等待</span></span><br><span class="line">            <span class="keyword">if</span> (count == capacity) &#123;</span><br><span class="line">                obj.wait();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//产生数据</span></span><br><span class="line">            num++;</span><br><span class="line">            count++;</span><br><span class="line">            System.out.println(Thread.currentThread().getName() +</span><br><span class="line">                    <span class="string">&quot;生产了一个数字&quot;</span> + num + <span class="string">&quot;，资源池剩余数据个数：&quot;</span> + count);</span><br><span class="line">            <span class="comment">//唤醒其他所有线程，让他们竞争锁</span></span><br><span class="line">            obj.notifyAll();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//消费的方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">consumer</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        <span class="keyword">synchronized</span> (obj) &#123;</span><br><span class="line">            <span class="comment">//当资源池中没有资源时，消费阻塞，等待</span></span><br><span class="line">            <span class="keyword">if</span> (count == <span class="number">0</span>) &#123;</span><br><span class="line">                obj.wait();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//消费数据</span></span><br><span class="line">            num--;</span><br><span class="line">            count--;</span><br><span class="line">            System.out.println(Thread.currentThread().getName() +</span><br><span class="line">                    <span class="string">&quot;消费了一个数字&quot;</span> + num + <span class="string">&quot;，资源池剩余数据个数：&quot;</span> + count);</span><br><span class="line">            <span class="comment">//唤醒其他所有线程，让他们竞争锁</span></span><br><span class="line">            obj.notifyAll();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProductAndConsumerTest1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">MyCacheResources1</span> <span class="variable">myCacheResources1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyCacheResources1</span>();</span><br><span class="line">        <span class="comment">//用lamda表达式来创建线程</span></span><br><span class="line">        <span class="comment">//生产者</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">10</span>; i++) &#123;<span class="comment">//生产10轮</span></span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    myCacheResources1.product();</span><br><span class="line"></span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;, <span class="string">&quot;生产者&quot;</span>).start();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//消费者1</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="comment">//让生产者先 生产数据</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">10</span>; i++) &#123;<span class="comment">//消费10轮，</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    myCacheResources1.consumer();</span><br><span class="line">                    TimeUnit.SECONDS.sleep(<span class="number">1</span>);<span class="comment">//模拟消费时间</span></span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;消费者1&quot;</span>).start();</span><br><span class="line">        <span class="comment">//消费者2</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="comment">//让生产者先 生产数据</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">10</span>; i++) &#123;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    myCacheResources1.consumer();</span><br><span class="line">                    TimeUnit.SECONDS.sleep(<span class="number">1</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line"></span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;消费者2&quot;</span>).start();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">生产者生产了一个数字<span class="number">1</span>，资源池剩余数据个数：<span class="number">1</span></span><br><span class="line">生产者生产了一个数字<span class="number">2</span>，资源池剩余数据个数：<span class="number">2</span></span><br><span class="line">生产者生产了一个数字<span class="number">3</span>，资源池剩余数据个数：<span class="number">3</span></span><br><span class="line">生产者生产了一个数字<span class="number">4</span>，资源池剩余数据个数：<span class="number">4</span></span><br><span class="line">生产者生产了一个数字<span class="number">5</span>，资源池剩余数据个数：<span class="number">5</span></span><br><span class="line">消费者<span class="number">2</span>消费了一个数字<span class="number">4</span>，资源池剩余数据个数：<span class="number">4</span></span><br><span class="line">消费者<span class="number">1</span>消费了一个数字<span class="number">3</span>，资源池剩余数据个数：<span class="number">3</span></span><br><span class="line">生产者生产了一个数字<span class="number">4</span>，资源池剩余数据个数：<span class="number">4</span></span><br><span class="line">生产者生产了一个数字<span class="number">5</span>，资源池剩余数据个数：<span class="number">5</span></span><br><span class="line">消费者<span class="number">2</span>消费了一个数字<span class="number">4</span>，资源池剩余数据个数：<span class="number">4</span></span><br><span class="line">生产者生产了一个数字<span class="number">5</span>，资源池剩余数据个数：<span class="number">5</span></span><br><span class="line">消费者<span class="number">1</span>消费了一个数字<span class="number">4</span>，资源池剩余数据个数：<span class="number">4</span></span><br><span class="line">生产者生产了一个数字<span class="number">5</span>，资源池剩余数据个数：<span class="number">5</span></span><br><span class="line">消费者<span class="number">2</span>消费了一个数字<span class="number">4</span>，资源池剩余数据个数：<span class="number">4</span></span><br><span class="line">生产者生产了一个数字<span class="number">5</span>，资源池剩余数据个数：<span class="number">5</span></span><br><span class="line">消费者<span class="number">1</span>消费了一个数字<span class="number">4</span>，资源池剩余数据个数：<span class="number">4</span></span><br><span class="line">消费者<span class="number">2</span>消费了一个数字<span class="number">3</span>，资源池剩余数据个数：<span class="number">3</span></span><br><span class="line">消费者<span class="number">1</span>消费了一个数字<span class="number">2</span>，资源池剩余数据个数：<span class="number">2</span></span><br><span class="line">消费者<span class="number">2</span>消费了一个数字<span class="number">1</span>，资源池剩余数据个数：<span class="number">1</span></span><br><span class="line">消费者<span class="number">1</span>消费了一个数字<span class="number">0</span>，资源池剩余数据个数：<span class="number">0</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="Http"><a href="#Http" class="headerlink" title="Http"></a>Http</h2><h3 id="Http请求"><a href="#Http请求" class="headerlink" title="Http请求"></a>Http请求</h3><p>假设前端在一个请求的 URL 中传来了 name 和 type 参数, 请你从前端请求中取出参数, 并将其以 name-type 的形式返回给前端.<br>用到的类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.cy.receive_param.pojo;</span><br><span class="line"><span class="comment">//封装实体类（存放前端数据）</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="keyword">private</span> String type;</span><br><span class="line">    <span class="keyword">private</span> Cat cat;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;User&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;username=&#x27;&quot;</span> + username + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, type=&#x27;&quot;</span> + type + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, cat=&quot;</span> + cat +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Cat <span class="title function_">getCat</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> cat;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setCat</span><span class="params">(Cat cat)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.cat = cat;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getUsername</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUsername</span><span class="params">(String username)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.username = username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">gettype</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> type;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">settype</span><span class="params">(String type)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.type = type;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="0">
<li>controller中的方法：<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//接收RESTful风格的数据</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;add3/&#123;name&#125;/&#123;type&#125;&quot;)</span></span><br><span class="line">    <span class="comment">//占位符和形参相同时用pathvariable给上映射关系会直接传递，不同时这需要注明传递的相应占位符</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">add3</span><span class="params">(<span class="meta">@PathVariable(&quot;name&quot;)</span> String username, <span class="meta">@PathVariable</span> String type)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;username:&quot;</span>+username);</span><br><span class="line">        System.out.println(<span class="string">&quot;type:&quot;</span>+type);</span><br><span class="line">        <span class="keyword">return</span> username+<span class="string">&quot;-&quot;</span>+type;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>从url中获得name和type并返回name-type<br><img src="/image.png" alt="Alt text"></p>
<ol>
<li>controller中的方法<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;add1&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">add1</span><span class="params">(String username,String type)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;username=&quot;</span>+username);</span><br><span class="line">        System.out.println(<span class="string">&quot;username=&quot;</span>+type);</span><br><span class="line">        <span class="keyword">return</span> username+<span class="string">&quot;-&quot;</span>+type;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
从body中获得name和type并返回name-type<br><img src="/image-1.png" alt="Alt text"></li>
<li>controller中的方法<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;add7&quot;)</span></span><br><span class="line">    <span class="comment">//获取请求头的auth，如果不存在则将authHeader设为null</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">add7</span><span class="params">(<span class="meta">@RequestHeader(value = &quot;Authorization&quot;, required = false)</span> String authHeader,User user)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (authHeader != <span class="literal">null</span> &amp;&amp; authHeader.equals(<span class="string">&quot;Love Star Studio&quot;</span>)) &#123;</span><br><span class="line">            <span class="comment">// 如果Authorization中的数据是&quot;Love Star Studio&quot;则返回name-type数据</span></span><br><span class="line">            System.out.println(authHeader);</span><br><span class="line">            <span class="keyword">return</span> user.getUsername()+<span class="string">&quot;-&quot;</span>+user.gettype();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(authHeader);</span><br><span class="line">            <span class="comment">// 返回 &quot;Invalid User&quot;</span></span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;Invalid User&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
auth存在且为Love Star Studio返回name-type<br><img src="/image-2.png" alt="Alt text"><br>auth不存在返回Invalid User<br><img src="/image-3.png" alt="Alt text"></li>
<li>封装的User类已在上面说明<br>controller中的方法：<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//参数较多时实体类会更加方便简洁</span></span><br><span class="line">    <span class="comment">//前端提交的参数名称需要和类的属性名称保持一致</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;add2&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">add2</span><span class="params">(User user)</span>&#123;</span><br><span class="line">        System.out.println(user);</span><br><span class="line">        <span class="keyword">return</span> user.getUsername()+<span class="string">&quot;-&quot;</span>+user.gettype();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
返回数据<br><img src="/image-4.png" alt="Alt text"></li>
</ol>
<h3 id="3-3结合数据库一起写在后端应用中"><a href="#3-3结合数据库一起写在后端应用中" class="headerlink" title="3.3结合数据库一起写在后端应用中"></a>3.3结合数据库一起写在后端应用中</h3><p>controller包HepanUserController类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.mysql.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.mysql.entity.HepanUser;</span><br><span class="line"><span class="keyword">import</span> com.example.mysql.service.HepanUserService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.http.HttpStatus;</span><br><span class="line"><span class="keyword">import</span> org.springframework.http.ResponseEntity;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/hepanUser&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HepanUserController</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    HepanUserService hepanUserService;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//添加帖子</span></span><br><span class="line">    <span class="meta">@PostMapping</span></span><br><span class="line">    <span class="keyword">public</span> ResponseEntity&lt;HepanUser&gt; <span class="title function_">add</span><span class="params">(<span class="meta">@RequestBody</span> HepanUser user)</span> &#123;</span><br><span class="line">        hepanUserService.add(user);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ResponseEntity</span>&lt;&gt;(user, HttpStatus.CREATED);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//删除帖子</span></span><br><span class="line">    <span class="meta">@DeleteMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> ResponseEntity&lt;String&gt; <span class="title function_">delete</span><span class="params">(<span class="meta">@PathVariable</span> Integer id)</span> &#123;</span><br><span class="line">        hepanUserService.delete(id);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ResponseEntity</span>&lt;&gt;(id + <span class="string">&quot; deleted&quot;</span>, HttpStatus.OK);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//更改帖子</span></span><br><span class="line">    <span class="meta">@PutMapping</span></span><br><span class="line">    <span class="keyword">public</span> ResponseEntity&lt;HepanUser&gt; <span class="title function_">update</span><span class="params">(<span class="meta">@RequestBody</span> HepanUser user)</span> &#123;</span><br><span class="line">        hepanUserService.update(user);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ResponseEntity</span>&lt;&gt;(user, HttpStatus.OK);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//获取全部帖子信息</span></span><br><span class="line">    <span class="meta">@GetMapping</span></span><br><span class="line">    <span class="keyword">public</span> ResponseEntity&lt;List&lt;HepanUser&gt;&gt; <span class="title function_">selectAll</span><span class="params">()</span> &#123;</span><br><span class="line">        List&lt;HepanUser&gt; allinfo = hepanUserService.selectAll();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ResponseEntity</span>&lt;&gt;(allinfo, HttpStatus.OK);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//获取对应编号帖子的信息</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> ResponseEntity&lt;HepanUser&gt; <span class="title function_">selectById</span><span class="params">(<span class="meta">@PathVariable</span> Integer id)</span> &#123;</span><br><span class="line">        <span class="type">HepanUser</span> <span class="variable">user</span> <span class="operator">=</span> (HepanUser) hepanUserService.selectById(id);</span><br><span class="line">        <span class="keyword">if</span> (user == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ResponseEntity</span>&lt;&gt;(HttpStatus.NOT_FOUND);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ResponseEntity</span>&lt;&gt;(user, HttpStatus.OK);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//获取对应名字用户的信息</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/&#123;name&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> ResponseEntity&lt;List&lt;HepanUser&gt;&gt; <span class="title function_">getUsersByName</span><span class="params">(<span class="meta">@RequestParam</span> String name)</span> &#123;</span><br><span class="line">        List&lt;HepanUser&gt; userList = hepanUserService.selectByName(name);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ResponseEntity</span>&lt;&gt;(userList, HttpStatus.OK);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//获取对应用户名和帖子内容的帖子</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/More&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> ResponseEntity&lt;List&lt;HepanUser&gt;&gt; <span class="title function_">getUsersByCriteria</span><span class="params">(</span></span><br><span class="line"><span class="params">            <span class="meta">@RequestParam(value = &quot;username&quot;, required = false)</span> String username,</span></span><br><span class="line"><span class="params">            <span class="meta">@RequestParam(value = &quot;post&quot;, required = false)</span> String post)</span> &#123;</span><br><span class="line">        List&lt;HepanUser&gt; userList = hepanUserService.selectByMore(username, post);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ResponseEntity</span>&lt;&gt;(userList, HttpStatus.OK);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//查找对应模糊信息的帖子</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/Vaguely&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> ResponseEntity&lt;List&lt;HepanUser&gt;&gt; <span class="title function_">searchVaguely</span><span class="params">(</span></span><br><span class="line"><span class="params">            <span class="meta">@RequestParam(value = &quot;username&quot;, required = false)</span> String username,</span></span><br><span class="line"><span class="params">            <span class="meta">@RequestParam(value = &quot;post&quot;, required = false)</span> String post)</span> &#123;</span><br><span class="line">        List&lt;HepanUser&gt; userList = hepanUserService.selectVaguely(username, post);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ResponseEntity</span>&lt;&gt;(userList, HttpStatus.OK);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>entity包HepanUser类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.mysql.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.Getter;</span><br><span class="line"><span class="keyword">import</span> lombok.Setter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="meta">@Setter</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HepanUser</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="keyword">private</span> String post;</span><br><span class="line">    <span class="keyword">private</span> Date date;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        sb.append(<span class="string">&quot;id: &quot;</span>).append(id).append(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        sb.append(<span class="string">&quot;username: &quot;</span>).append(username).append(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        sb.append(<span class="string">&quot;post: &quot;</span>).append(post).append(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        sb.append(<span class="string">&quot;date: &quot;</span>).append(date).append(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>service包HepanUserService类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.mysql.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.mysql.entity.HepanUser;</span><br><span class="line"><span class="keyword">import</span> com.example.mysql.mapper.HepanUserMapper;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HepanUserService</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    HepanUserMapper hepanUserMapper;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(HepanUser user)</span> &#123;</span><br><span class="line">        <span class="type">Date</span> <span class="variable">currentDate</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">        hepanUserMapper.insert(user, currentDate);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">delete</span><span class="params">(Integer id)</span> &#123;</span><br><span class="line">        hepanUserMapper.delete(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(HepanUser user)</span> &#123;</span><br><span class="line">        <span class="type">Date</span> <span class="variable">currentDate</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">        hepanUserMapper.update(user, currentDate);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;HepanUser&gt; <span class="title function_">selectAll</span><span class="params">()</span> &#123;</span><br><span class="line">        List&lt;HepanUser&gt; list = hepanUserMapper.selectAll();</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> HepanUser <span class="title function_">selectById</span><span class="params">(Integer id)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> hepanUserMapper.selectById(id);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;HepanUser&gt; <span class="title function_">selectByName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> hepanUserMapper.selectByName(name);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;HepanUser&gt; <span class="title function_">selectByMore</span><span class="params">(String username, String post)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> hepanUserMapper.selectByMore(username, post);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;HepanUser&gt; <span class="title function_">selectVaguely</span><span class="params">(String username, String post)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> hepanUserMapper.selectVaguely(username, post);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>mapper包HepanUserMapper类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.mysql.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.mysql.entity.HepanUser;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">HepanUserMapper</span> &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Insert(&quot;insert into `hepanuser`(username,post,date) values(#&#123;user.username&#125;,#&#123;user.post&#125;,#&#123;date&#125;)&quot;)</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">insert</span><span class="params">(HepanUser user, Date date)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Delete(&quot;DELETE FROM `hepanuser` WHERE id=#&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">delete</span><span class="params">(Integer id)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Update(&quot;update `hepanuser` set username=#&#123;user.username&#125;,post=#&#123;user.post&#125;,date=#&#123;date&#125; where id=#&#123;user.id&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(HepanUser user, Date date)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Select(&quot;select * from `hepanuser` order by date desc&quot;)</span></span><br><span class="line">    List&lt;HepanUser&gt; <span class="title function_">selectAll</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Select(&quot;select * from `hepanuser` where id=#&#123;id&#125;&quot;)</span></span><br><span class="line">    HepanUser <span class="title function_">selectById</span><span class="params">(Integer id)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Select(&quot;select * from `hepanuser` where username=#&#123;name&#125;&quot;)</span></span><br><span class="line">    List&lt;HepanUser&gt; <span class="title function_">selectByName</span><span class="params">(String name)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Select(&quot;select * from `hepanuser` where username=#&#123;username&#125; and post=#&#123;post&#125; order by date desc&quot;)</span></span><br><span class="line">    List&lt;HepanUser&gt; <span class="title function_">selectByMore</span><span class="params">(<span class="meta">@Param(&quot;username&quot;)</span> String username, <span class="meta">@Param(&quot;post&quot;)</span> String post)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Select(&quot;select * from `hepanuser` where username like concat(&#x27;%&#x27;,#&#123;username&#125;,&#x27;%&#x27;) and post like concat(&#x27;%&#x27;,#&#123;post&#125;,&#x27;%&#x27;) order by date desc&quot;)</span></span><br><span class="line">    List&lt;HepanUser&gt; <span class="title function_">selectVaguely</span><span class="params">(String username, String post)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="3-4思考题"><a href="#3-4思考题" class="headerlink" title="3.4思考题"></a>3.4思考题</h3><ol>
<li>RESTful API使用标准的HTTP方法来执行操作，益于理解和使用；同时每个请求都包含了处理请求所需要的所有信息，提高了可拓展性，降低了服务器资源的使用。  </li>
<li>域名是用户访问网站时的文本标识，<a target="_blank" rel="noopener" href="http://www.baidu.com;ip即internet/">www.baidu.com；ip即Internet</a> Protocol，是互联网上每个计算机或设备的唯一数字标识，例如我的计算机主系统在无线局域网的ipv4地址为192.168.137.1，由于ipv4的地址空间无法满足增长的设备数量，所以支持更多设备的ipv6正逐渐取代ipv4；端口是设备上运行的特定应用程序的标识符，通常是十六位的整数，例如默认情况下http端口为80，https为443。<br>当使用域名访问网站或服务时，DNS将域名解析为相应的IP地址，然后数据包通过IP地址的特定端口路由到应用程序。这三者共同构成了互联网通信的基础。</li>
<li>HTTP是用于传输超文本数据的协议，以明文形式传输；HTTPS是HTTP的安全版本，数据在传输过程中经过加密。HTTP和HTTPS的区别主要在于安全性；<br>还有HTTP不提供数据完整性验证，而HTTPS提供，这可以检测到数据在传输过程中是否被篡改；<br>默认端口方面HTTP默认端口为80，而HTTPS默认端口为443</li>
<li>结构：请求行（request line）-请求头部（header）-空行-请求正文（request body）<br>请求行：请求的方法（GET、POST等）&#x2F;url&#x2F;http协议版本<br>请求头：通常以键值对形式组织，包含关于请求的相关信息，如User-Agent、Accept等<br>空行：用于分隔头部和正文<br>请求正文：包含请求的数据，通常用于POST请求或其他需要在请求中传递数据的请求  </li>
<li>四次挥手指的是TCP链接关闭时的四个步骤，用于确保数据的可靠传输和上方的链接正常关闭。<br>第一次：需要关闭连接的一方发送一个TCP报文，包含FIN标志位，表示要求关闭连接，发送后该方进入FIN-WAIT-1状态。<br>第二次：被动关闭方收到含FIN的报文后发送一个ACK作为响应，然后进入CLOSE-WAIT状态，此时仍然可以向主动关闭方发送未发送完的数据。<br>第三次：被动关闭方完成了数据的发送后，发出一个FIN报文，要求关闭连接，然后进入LAST-ACK状态。<br>第四次：主动关闭方收到被动关闭方的FIN报文后，发送一个ACK报文，表示确认，被动关闭方收到后立刻关闭连接，主动关闭方进入TIME-WAIT状态，一段时间后关闭连接，确保网络中的延迟数据包都接收完。 ps:如果被动关闭方没有接收到第四次挥手的ACK报文，会再次发送FIN报文，以确保在网络信道不稳定时可靠地断开连接。<br>四次挥手可以确保数据的完整性，确保连接关闭后不会有潜在的数据包的干扰。</li>
<li>WebSocket协议是一种用于在客户端和服务器之间建立持久性全双工连接的通信协议。它的出现是为了解决http协议存在的一些限制，如客户端必须发起请求才能收到服务器的响应，WebSocket允许双方建立一个持久且可以双向传输的连接，且可以通过加密来提高数据的安全性。这些减少了频繁创建和关闭连接的性能开销，使应用程序的交互更加实时。但是WebSocket也存在部署的复杂性和兼容性问题。<br>应用方面，WebSocket比HTTP更加适合于需要实时通信的程序，比如网页游戏、视频通话等，而HTTPS更加适合于简单的静态内容传输，如资料的查询。</li>
</ol>
<h3 id="3-5文件接收"><a href="#3-5文件接收" class="headerlink" title="3.5文件接收"></a>3.5文件接收</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.restful_api.Controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.PostMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestParam;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.multipart.MultipartFile;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.nio.file.Files;</span><br><span class="line"><span class="keyword">import</span> java.nio.file.Paths;</span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GetFile</span> &#123;</span><br><span class="line">    <span class="meta">@PostMapping(&quot;upload&quot;)</span></span><br><span class="line">    <span class="comment">//将请求中的名为“file”的参数传递到MultiparFile对象上</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getFile</span><span class="params">(<span class="meta">@RequestParam(&quot;file&quot;)</span> MultipartFile file)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!file.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="comment">//限定文件格式为png、jpg</span></span><br><span class="line">                <span class="type">String</span> <span class="variable">originalFilename</span> <span class="operator">=</span> file.getOriginalFilename();</span><br><span class="line">                <span class="keyword">if</span>(originalFilename.toLowerCase().endsWith(<span class="string">&quot;.png&quot;</span>)||originalFilename.toLowerCase().endsWith(<span class="string">&quot;.jpg&quot;</span>))&#123;</span><br><span class="line">                <span class="comment">//限制文件大小在200MB</span></span><br><span class="line">                <span class="keyword">if</span> (file.getSize() &lt;= <span class="number">200</span> * <span class="number">1024</span> * <span class="number">1024</span>) &#123;</span><br><span class="line">                    <span class="comment">//将文件读取到字节组中</span></span><br><span class="line">                    <span class="type">byte</span>[] bytes = file.getBytes();</span><br><span class="line">                    <span class="comment">// 将图片数据保存到指定的目录中,并用原文件名作为文件名</span></span><br><span class="line">                    Files.write(Paths.get(<span class="string">&quot;D:\\HuaweiMoveData\\Users\\86191\\Desktop\\后端笔试&quot;</span>, file.getOriginalFilename()), bytes);</span><br><span class="line">                    <span class="keyword">return</span> <span class="string">&quot;redirect:/success&quot;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">return</span> <span class="string">&quot;Larger than 200MB&quot;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">return</span> <span class="string">&quot;Only .png files are allowed&quot;</span>;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;redirect:/failure&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src="/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202023-10-21%20161838.png" alt="Alt text"><br><img src="/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202023-10-21%20161918.png" alt="Alt text"></p>
<h2 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h2><h3 id="4-2数据库基础"><a href="#4-2数据库基础" class="headerlink" title="4.2数据库基础"></a>4.2数据库基础</h3><p><img src="/Capture_20231021_172901.jpg" alt="Alt text"><br>学生表：学号、姓名、性别、班级号；主键：学号<br>班级表：班级号、班级名、人数；主键：班级号<br>老师表：教师编号、姓名、性别、学科；主键：编号<br>老师班级表：学科、教师编号、班级号；主键：班级号、教师编号  </p>
<h3 id="4-3操作数据库"><a href="#4-3操作数据库" class="headerlink" title="4.3操作数据库"></a>4.3操作数据库</h3><p><img src="/image-7.png" alt="Alt text"><br>表的创建、数据填写</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建学生表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Students (</span><br><span class="line">    StudentID <span class="type">INT</span> <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">    Name <span class="type">VARCHAR</span>(<span class="number">255</span>),</span><br><span class="line">    Sex <span class="type">VARCHAR</span>(<span class="number">10</span>),</span><br><span class="line">    ClassID <span class="type">INT</span>,</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY (ClassID) <span class="keyword">REFERENCES</span> Classes(ClassID)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建班级表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Classes (</span><br><span class="line">    ClassID <span class="type">INT</span> <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">    ClassName <span class="type">VARCHAR</span>(<span class="number">255</span>),</span><br><span class="line">    NumberOfStudents <span class="type">INT</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建老师表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Teachers (</span><br><span class="line">    TeacherID <span class="type">INT</span> <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">    Name <span class="type">VARCHAR</span>(<span class="number">255</span>),</span><br><span class="line">    Sex <span class="type">VARCHAR</span>(<span class="number">10</span>),</span><br><span class="line">    Subject <span class="type">VARCHAR</span>(<span class="number">255</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建老师班级表</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> TeacherClasses (</span><br><span class="line">    TeacherID <span class="type">INT</span>,</span><br><span class="line">    ClassID <span class="type">INT</span>,</span><br><span class="line">    Subject <span class="type">VARCHAR</span>(<span class="number">255</span>),</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (TeacherID, ClassID),</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY (TeacherID) <span class="keyword">REFERENCES</span> Teachers(TeacherID),</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY (ClassID) <span class="keyword">REFERENCES</span> Classes(ClassID)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 增</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> classes <span class="keyword">values</span> (<span class="number">1</span>,<span class="string">&#x27;一班&#x27;</span>,<span class="number">4</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> classes <span class="keyword">values</span> (<span class="number">2</span>,<span class="string">&#x27;二班&#x27;</span>,<span class="number">5</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> classes <span class="keyword">values</span> (<span class="number">3</span>,<span class="string">&#x27;三班&#x27;</span>,<span class="number">6</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> classes <span class="keyword">values</span> (<span class="number">4</span>,<span class="string">&#x27;四班&#x27;</span>,<span class="number">4</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> classes <span class="keyword">values</span> (<span class="number">5</span>,<span class="string">&#x27;五班&#x27;</span>,<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Students <span class="keyword">values</span>(<span class="number">1</span>,<span class="string">&#x27;颗粒&#x27;</span>,<span class="string">&#x27;f&#x27;</span>,<span class="number">2</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Students <span class="keyword">values</span>(<span class="number">2</span>,<span class="string">&#x27;有啦&#x27;</span>,<span class="string">&#x27;f&#x27;</span>,<span class="number">2</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Students <span class="keyword">values</span>(<span class="number">3</span>,<span class="string">&#x27;胡桃&#x27;</span>,<span class="string">&#x27;f&#x27;</span>,<span class="number">2</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Students <span class="keyword">values</span>(<span class="number">4</span>,<span class="string">&#x27;雷电将军&#x27;</span>,<span class="string">&#x27;f&#x27;</span>,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Students <span class="keyword">values</span>(<span class="number">5</span>,<span class="string">&#x27;审理零花&#x27;</span>,<span class="string">&#x27;f&#x27;</span>,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Students <span class="keyword">values</span>(<span class="number">6</span>,<span class="string">&#x27;小工&#x27;</span>,<span class="string">&#x27;f&#x27;</span>,<span class="number">3</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Students <span class="keyword">values</span>(<span class="number">7</span>,<span class="string">&#x27;干预&#x27;</span>,<span class="string">&#x27;f&#x27;</span>,<span class="number">4</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Students <span class="keyword">values</span>(<span class="number">8</span>,<span class="string">&#x27;审核&#x27;</span>,<span class="string">&#x27;f&#x27;</span>,<span class="number">3</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Students <span class="keyword">values</span>(<span class="number">9</span>,<span class="string">&#x27;七七&#x27;</span>,<span class="string">&#x27;f&#x27;</span>,<span class="number">4</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Students <span class="keyword">values</span>(<span class="number">10</span>,<span class="string">&#x27;客情&#x27;</span>,<span class="string">&#x27;f&#x27;</span>,<span class="number">5</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Students <span class="keyword">values</span>(<span class="number">11</span>,<span class="string">&#x27;琴&#x27;</span>,<span class="string">&#x27;f&#x27;</span>,<span class="number">4</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Students <span class="keyword">values</span>(<span class="number">12</span>,<span class="string">&#x27;莫娜&#x27;</span>,<span class="string">&#x27;f&#x27;</span>,<span class="number">5</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Students <span class="keyword">values</span>(<span class="number">13</span>,<span class="string">&#x27;心海&#x27;</span>,<span class="string">&#x27;f&#x27;</span>,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Students <span class="keyword">values</span>(<span class="number">14</span>,<span class="string">&#x27;钟离&#x27;</span>,<span class="string">&#x27;m&#x27;</span>,<span class="number">2</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Students <span class="keyword">values</span>(<span class="number">15</span>,<span class="string">&#x27;那维莱特&#x27;</span>,<span class="string">&#x27;m&#x27;</span>,<span class="number">5</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Students <span class="keyword">values</span>(<span class="number">16</span>,<span class="string">&#x27;万叶&#x27;</span>,<span class="string">&#x27;m&#x27;</span>,<span class="number">2</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Students <span class="keyword">values</span>(<span class="number">17</span>,<span class="string">&#x27;小红&#x27;</span>,<span class="string">&#x27;m&#x27;</span>,<span class="number">4</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Students <span class="keyword">values</span>(<span class="number">18</span>,<span class="string">&#x27;小橙&#x27;</span>,<span class="string">&#x27;m&#x27;</span>,<span class="number">5</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Students <span class="keyword">values</span>(<span class="number">19</span>,<span class="string">&#x27;小黄&#x27;</span>,<span class="string">&#x27;m&#x27;</span>,<span class="number">3</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Students <span class="keyword">values</span>(<span class="number">20</span>,<span class="string">&#x27;小绿&#x27;</span>,<span class="string">&#x27;m&#x27;</span>,<span class="number">3</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Students <span class="keyword">values</span>(<span class="number">21</span>,<span class="string">&#x27;小青&#x27;</span>,<span class="string">&#x27;m&#x27;</span>,<span class="number">3</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Students <span class="keyword">values</span>(<span class="number">22</span>,<span class="string">&#x27;小蓝&#x27;</span>,<span class="string">&#x27;m&#x27;</span>,<span class="number">3</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Students <span class="keyword">values</span>(<span class="number">23</span>,<span class="string">&#x27;小紫&#x27;</span>,<span class="string">&#x27;m&#x27;</span>,<span class="number">5</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Students <span class="keyword">values</span>(<span class="number">24</span>,<span class="string">&#x27;小康&#x27;</span>,<span class="string">&#x27;m&#x27;</span>,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Teachers <span class="keyword">values</span>(<span class="number">1</span>,<span class="string">&#x27;刘老师&#x27;</span>,<span class="string">&#x27;m&#x27;</span>,<span class="string">&#x27;数学&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Teachers <span class="keyword">values</span>(<span class="number">2</span>,<span class="string">&#x27;王老师&#x27;</span>,<span class="string">&#x27;m&#x27;</span>,<span class="string">&#x27;语文&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Teachers <span class="keyword">values</span>(<span class="number">3</span>,<span class="string">&#x27;廖老师&#x27;</span>,<span class="string">&#x27;f&#x27;</span>,<span class="string">&#x27;英语&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Teachers <span class="keyword">values</span>(<span class="number">4</span>,<span class="string">&#x27;谢老师&#x27;</span>,<span class="string">&#x27;f&#x27;</span>,<span class="string">&#x27;语文&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Teachers <span class="keyword">values</span>(<span class="number">5</span>,<span class="string">&#x27;李老师&#x27;</span>,<span class="string">&#x27;m&#x27;</span>,<span class="string">&#x27;英语&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> TeacherClasses <span class="keyword">values</span>(<span class="number">1</span>,<span class="number">1</span>,<span class="string">&#x27;数学&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> TeacherClasses <span class="keyword">values</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="string">&#x27;数学&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> TeacherClasses <span class="keyword">values</span>(<span class="number">1</span>,<span class="number">3</span>,<span class="string">&#x27;数学&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> TeacherClasses <span class="keyword">values</span>(<span class="number">1</span>,<span class="number">4</span>,<span class="string">&#x27;数学&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> TeacherClasses <span class="keyword">values</span>(<span class="number">1</span>,<span class="number">5</span>,<span class="string">&#x27;数学&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> TeacherClasses <span class="keyword">values</span>(<span class="number">3</span>,<span class="number">1</span>,<span class="string">&#x27;英语&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> TeacherClasses <span class="keyword">values</span>(<span class="number">3</span>,<span class="number">2</span>,<span class="string">&#x27;英语&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> TeacherClasses <span class="keyword">values</span>(<span class="number">3</span>,<span class="number">3</span>,<span class="string">&#x27;英语&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> TeacherClasses <span class="keyword">values</span>(<span class="number">5</span>,<span class="number">4</span>,<span class="string">&#x27;英语&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> TeacherClasses <span class="keyword">values</span>(<span class="number">5</span>,<span class="number">5</span>,<span class="string">&#x27;英语&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> TeacherClasses <span class="keyword">values</span>(<span class="number">2</span>,<span class="number">1</span>,<span class="string">&#x27;语文&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> TeacherClasses <span class="keyword">values</span>(<span class="number">2</span>,<span class="number">2</span>,<span class="string">&#x27;语文&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> TeacherClasses <span class="keyword">values</span>(<span class="number">4</span>,<span class="number">3</span>,<span class="string">&#x27;语文&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> TeacherClasses <span class="keyword">values</span>(<span class="number">4</span>,<span class="number">4</span>,<span class="string">&#x27;语文&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> TeacherClasses <span class="keyword">values</span>(<span class="number">4</span>,<span class="number">5</span>,<span class="string">&#x27;语文&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p>删：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SET</span> SQL_SAFE_UPDATES <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> Students</span><br><span class="line"><span class="keyword">WHERE</span> Name<span class="operator">=</span><span class="string">&#x27;小康&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>改(将小红的Sex改为f)</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> Students</span><br><span class="line"><span class="keyword">set</span> Sex<span class="operator">=</span><span class="string">&#x27;f&#x27;</span></span><br><span class="line"><span class="keyword">where</span> Name<span class="operator">=</span><span class="string">&#x27;小红&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>查（查找全部Students数据）</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> Students;</span><br></pre></td></tr></table></figure>
<p><img src="/image-5.png" alt="Alt text"><br>统计每个老师有多少学生：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> t.Name, <span class="built_in">COUNT</span>(s.StudentID) <span class="keyword">AS</span> StudentCount</span><br><span class="line"><span class="keyword">FROM</span> Teachers t</span><br><span class="line"><span class="keyword">JOIN</span> TeacherClasses tc <span class="keyword">ON</span> t.TeacherID <span class="operator">=</span> tc.TeacherID</span><br><span class="line"><span class="keyword">JOIN</span> Students s <span class="keyword">ON</span> tc.ClassID <span class="operator">=</span> s.ClassID</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> t.TeacherID</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> StudentCount <span class="keyword">DESC</span>;</span><br></pre></td></tr></table></figure>
<p>将teachserclasses和Teachers关联<br>将Students和teacherclasses关联<br>根据老师的id分组，分别统计每组的学生数<br>根据学生数降序排列<br>输出老师的name和学生数<br><img src="/image-6.png" alt="Alt text"></p>
<h3 id="4-4思考题"><a href="#4-4思考题" class="headerlink" title="4.4思考题"></a>4.4思考题</h3><p>ACID分别表示原子性、一致性、隔离性、持久性，这些是确保数据库操作可靠性和一致性的关键特性。<br>原子性Atomicity：事务中的每个操作都一个不可分割的工作单位，事务中的操作要么全部成功要么全部失败，每次对数据改动时，都将对应的undolog记录下来，如果某次操作异常，就会反向执行每次操作的undolog，让所以数据回到操作之前。<br>隔离性isolation：多个事务并行执行时，每个事务都被隔离开，不能相互干扰，分为写与写隔离和写与读隔离。<br>持久性durability:事务一旦成功提交就，结果就永久地保存在数据库中了。<br>一致性consistency：确保事务的执行前后，数据库的状态都是一致且稳定的。前三个特性可以说是为一致性服务的。</p>
<h3 id="4-5思考题"><a href="#4-5思考题" class="headerlink" title="4.5思考题"></a>4.5思考题</h3><p>数据表如下图：  </p>
<p>RBAC0:RBAC0是RABC的核心，定义了能构成RABC控制系统的最小的元素集合，由用户、角色、会话、许可四部分组成。用户和角色、角色和许可都是多对多的关系，用户和会话、会话和角色都是一对一的关系，当角色被指定给用户时，用户就拥有了改角色所包含的许可，用户要通过会话才能设置角色。<br>RABC1:是RABC的分层模型，建立在RABC0的基础上，在角色中引入了继承的概念。使用场景：分店的店长有访问自己分店财务数据的权限，老板有访问所有分店的财务数据的权限。<br>RABC2:是RABC的约束模型，建立在RABC0的基础上，加入了约束的概念，主要引入了静态职责分离SSD(Static Separation of Duty)和动态职责分离DSD(Dynamic Separation of Duty)。SSD是角色指派给用户阶段加入的，主要有：互斥角色（两个互斥角色只能有一个）、基数约束（用户拥有的角色权限和角色对应的用户数是有限的）、先决条件约束：（要高级角色必须先有低级角色），DSD是会话和角色之间的约束，可以动态约束用户拥有的角色，如一个用户有两个角色但只能激活一个。<br>使用场景：互斥角色：财务部的会计和审核；基数约束：CEO只能有一个，某人不能同时是COO和CFO；先决条件约束：要是豪华VIP得先是VIP；DSD：用户既有参赛者和评委身份只能用一个，三国杀抽多张武将只能选一个。<br>RABC3：是RABC1和RABC2的合集。</p>
<h2 id="5-后端应用"><a href="#5-后端应用" class="headerlink" title="5.后端应用"></a>5.后端应用</h2><h3 id="5-1实践题见3-4"><a href="#5-1实践题见3-4" class="headerlink" title="5.1实践题见3.4"></a>5.1实践题见3.4</h3><h3 id="5-2"><a href="#5-2" class="headerlink" title="5.2"></a>5.2</h3><p>JWT权限认证：用户登入时，生成一个JWT返回给客户端，在客户端的每个请求中包含JWT，服务端验证JWT的签名检查用户的权限声明（如角色标识）是否有权执行相应的操作，有权则执行操作，无权则返回信息告知用户。</p>
<h3 id="5-3"><a href="#5-3" class="headerlink" title="5.3"></a>5.3</h3><ol>
<li>利用数据库中主键的唯一性，适用于插入操作。</li>
<li>数据库乐观锁，在表中多加一个字段，作为版本标识，执行更新时不仅验证id还要验证版本，防止重复更新，确定是要更新的内容，使用于更新操作 。</li>
<li>防重Token，客户端先调用接口获取Token，服务端会生成一个Token串，将其作为key储存到Redis数据库中（设置过期时间），再将Token返回到客户端，客户端把Token存入请求的Header中，发送请求，服务端根据请求中的Token到数据库中查找对应的key是否存在，存在且value匹配则删除然后执行业务，否则返回错误信息，适用于插入、更新、删除。</li>
</ol>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E8%AE%B0%E5%BD%95/" rel="tag"># 记录</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2023/11/10/%E7%88%AC%E8%99%AB%E5%AD%A6%E4%B9%A0-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E6%8C%91%E6%88%98%E6%80%A7%E5%AE%9E%E9%AA%8C/" rel="prev" title="爬虫学习">
      <i class="fa fa-chevron-left"></i> 爬虫学习
    </a></div>
      <div class="post-nav-item">
    <a href="/2023/11/10/%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/" rel="next" title="学习记录">
      学习记录 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%98%9F%E8%BE%B0%E5%B7%A5%E4%BD%9C%E5%AE%A4%E5%90%8E%E7%AB%AF%E7%AC%94%E8%AF%95%E9%A2%98"><span class="nav-number">1.</span> <span class="nav-text">星辰工作室后端笔试题</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#2-%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80"><span class="nav-number">1.1.</span> <span class="nav-text">2.语言基础</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3%E5%8F%8C%E5%90%91%E9%93%BE%E8%A1%A8"><span class="nav-number">1.1.1.</span> <span class="nav-text">2.3双向链表</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-1%E5%A4%8D%E7%94%A8"><span class="nav-number">1.1.1.1.</span> <span class="nav-text">2.3.1复用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-3"><span class="nav-number">1.1.1.2.</span> <span class="nav-text">2.3.3</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4%E5%AE%9E%E8%B7%B5%E9%A2%98-%E7%AE%97%E6%B3%95"><span class="nav-number">1.1.2.</span> <span class="nav-text">2.4实践题-算法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-5%E6%80%9D%E8%80%83%E9%A2%98"><span class="nav-number">1.2.</span> <span class="nav-text">2.5思考题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-5-1-%E5%B8%B8%E8%A7%81%E7%9A%84%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E5%8F%8A%E5%85%B6%E5%A4%8D%E6%9D%82%E5%BA%A6%EF%BC%88%E4%BB%A5%E4%BB%8E%E5%B0%8F%E5%88%B0%E5%A4%A7%E6%8E%92%E5%BA%8F%E4%B8%BA%E4%BE%8B%EF%BC%89"><span class="nav-number">1.2.1.</span> <span class="nav-text">2.5.1 常见的排序算法及其复杂度（以从小到大排序为例）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-5-2-%E8%AF%AD%E8%A8%80%E7%89%B9%E6%80%A7"><span class="nav-number">1.2.2.</span> <span class="nav-text">2.5.2 语言特性</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-5-3%E9%9B%86%E5%90%88"><span class="nav-number">1.2.2.1.</span> <span class="nav-text">2.5.3集合</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B9%B6%E5%8F%91"><span class="nav-number">1.2.2.2.</span> <span class="nav-text">并发</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BC%82%E5%B8%B8"><span class="nav-number">1.2.2.3.</span> <span class="nav-text">异常</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F"><span class="nav-number">1.2.3.</span> <span class="nav-text">设计模式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Http"><span class="nav-number">1.3.</span> <span class="nav-text">Http</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Http%E8%AF%B7%E6%B1%82"><span class="nav-number">1.3.1.</span> <span class="nav-text">Http请求</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3%E7%BB%93%E5%90%88%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%80%E8%B5%B7%E5%86%99%E5%9C%A8%E5%90%8E%E7%AB%AF%E5%BA%94%E7%94%A8%E4%B8%AD"><span class="nav-number">1.3.2.</span> <span class="nav-text">3.3结合数据库一起写在后端应用中</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-4%E6%80%9D%E8%80%83%E9%A2%98"><span class="nav-number">1.3.3.</span> <span class="nav-text">3.4思考题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-5%E6%96%87%E4%BB%B6%E6%8E%A5%E6%94%B6"><span class="nav-number">1.3.4.</span> <span class="nav-text">3.5文件接收</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-number">1.4.</span> <span class="nav-text">数据库</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80"><span class="nav-number">1.4.1.</span> <span class="nav-text">4.2数据库基础</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-number">1.4.2.</span> <span class="nav-text">4.3操作数据库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-4%E6%80%9D%E8%80%83%E9%A2%98"><span class="nav-number">1.4.3.</span> <span class="nav-text">4.4思考题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-5%E6%80%9D%E8%80%83%E9%A2%98"><span class="nav-number">1.4.4.</span> <span class="nav-text">4.5思考题</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-%E5%90%8E%E7%AB%AF%E5%BA%94%E7%94%A8"><span class="nav-number">1.5.</span> <span class="nav-text">5.后端应用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-1%E5%AE%9E%E8%B7%B5%E9%A2%98%E8%A7%813-4"><span class="nav-number">1.5.1.</span> <span class="nav-text">5.1实践题见3.4</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-2"><span class="nav-number">1.5.2.</span> <span class="nav-text">5.2</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-3"><span class="nav-number">1.5.3.</span> <span class="nav-text">5.3</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Mingyu Kang</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">8</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">分类</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Mingyu Kang</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
